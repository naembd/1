<!DOCTYPE html>
<html lang="bn">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>‡¶á‡¶∏‡¶≤‡¶æ‡¶Æ‡ßá‡¶∞ ‡¶á‡¶§‡¶ø‡¶π‡¶æ‡¶∏‡ßá ‡¶®‡¶æ‡¶∞‡ßÄ ‡¶∏‡¶æ‡¶π‡¶æ‡¶¨‡ßÄ‡¶¶‡ßá‡¶∞ ‡¶¨‡ßÄ‡¶∞‡¶§‡ßç‡¶¨‡¶ó‡¶æ‡¶•‡¶æ</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Hind+Siliguri:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    
    <!-- Chosen Palette: Warm Sand and Olive -->
    <!-- Application Structure Plan: The application uses a narrative, single-page scroll structure. It begins with the foundational concept of a woman's status in Islam, transitions to an interactive gallery of four key heroines, followed by a comparative analysis visualization, and concludes with a contemporary call to action. This structure was chosen to first establish the core principle, then allow users to explore individual stories in a non-linear way through interactive tabs, and finally synthesize the information through a comparative chart. This flow guides the user from understanding the 'why' to exploring the 'who' and 'how', making the content more digestible and impactful than a simple linear text report. Gemini API features are added to deepen reflection on each story and provide personalized inspiration. -->
    <!-- Visualization & Content Choices: 
        1. Heroine Stories: Report Info -> Goal: Inform/Organize -> Viz: Interactive Tabbed Cards (HTML/CSS/JS) -> Interaction: Click tabs to reveal detailed stories. -> Justification: Breaks down dense text into user-controlled, digestible segments.
        2. Gemini Moral Lessons: Report Info -> Goal: Reflect/Apply -> Viz: Dynamically generated text block (JS/API) -> Interaction: Button click. -> Justification: Uses Gemini API to generate context-specific moral takeaways from each story, making the content personally applicable.
        3. Quantitative Highlights: Report Info -> Goal: Inform/Highlight -> Viz: Bar Chart (Chart.js/Canvas) -> Interaction: Hover tooltips. -> Justification: Visualizes numerical data points, adding a quantifiable flair.
        4. Virtue Comparison: Report Info -> Goal: Compare/Synthesize -> Viz: Polar Area Chart (Chart.js/Canvas) -> Interaction: Hover tooltips. -> Justification: Provides a high-level, visually engaging summary of core virtues.
        5. Gemini Inspirational Quote: Report Info -> Goal: Inspire -> Viz: Modal with dynamic text (JS/API) -> Interaction: Button click -> Justification: Provides a moment of personalized reflection and motivation based on the app's themes.
    -->
    <!-- CONFIRMATION: NO SVG graphics used. NO Mermaid JS used. -->

    <style>
        body {
            font-family: 'Hind Siliguri', sans-serif;
            background-color: #FDFBF5;
        }
        .chart-container {
            position: relative;
            width: 100%;
            max-width: 500px;
            margin-left: auto;
            margin-right: auto;
            height: 300px;
            max-height: 400px;
        }
        @media (min-width: 768px) {
            .chart-container {
                height: 400px;
            }
        }
        .tab-button {
            transition: all 0.3s ease;
        }
        .tab-button.active {
            background-color: #556B2F;
            color: #FDFBF5;
            transform: translateY(-2px);
            box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -2px rgba(0, 0, 0, 0.1);
        }
        .content-card {
            background-color: #FFFFFF;
            border-left: 5px solid #8F9779;
        }
        .hero-icon {
            font-size: 2rem;
            line-height: 1;
        }
        .animate-fade-in {
            animation: fadeIn 0.5s ease-in-out;
        }
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }
        .gemini-button {
            background-color: #556B2F;
            color: white;
            transition: background-color 0.3s ease;
        }
        .gemini-button:hover {
            background-color: #6B8E23;
        }
        .gemini-response {
            background-color: #F0F2EB;
            border-left: 3px solid #556B2F;
        }
        .loader {
            border: 4px solid #f3f3f3;
            border-top: 4px solid #556B2F;
            border-radius: 50%;
            width: 24px;
            height: 24px;
            animation: spin 1s linear infinite;
        }
        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
    </style>
</head>
<body class="text-gray-800">

    <header class="bg-white shadow-md py-6">
        <div class="container mx-auto px-4 text-center">
            <h1 class="text-3xl md:text-5xl font-bold text-[#556B2F]">‡¶á‡¶∏‡¶≤‡¶æ‡¶Æ‡ßá‡¶∞ ‡¶á‡¶§‡¶ø‡¶π‡¶æ‡¶∏‡ßá ‡¶®‡¶æ‡¶∞‡ßÄ ‡¶∏‡¶æ‡¶π‡¶æ‡¶¨‡ßÄ‡¶¶‡ßá‡¶∞ ‡¶¨‡ßÄ‡¶∞‡¶§‡ßç‡¶¨‡¶ó‡¶æ‡¶•‡¶æ</h1>
            <p class="mt-2 text-lg text-gray-600">‡¶§‡ßç‡¶Ø‡¶æ‡¶ó, ‡¶¨‡ßÄ‡¶∞‡¶§‡ßç‡¶¨ ‡¶è‡¶¨‡¶Ç ‡¶à‡¶Æ‡¶æ‡¶®‡ßá‡¶∞ ‡¶è‡¶ï ‡¶Ö‡¶¨‡¶ø‡¶∏‡ßç‡¶Æ‡¶∞‡¶£‡ßÄ‡ßü ‡¶â‡¶™‡¶æ‡¶ñ‡ßç‡¶Ø‡¶æ‡¶®</p>
        </div>
    </header>

    <main class="container mx-auto px-4 py-8 md:py-12">
        
        <section id="foundation" class="mb-16 text-center">
            <h2 class="text-2xl md:text-3xl font-semibold text-[#556B2F] mb-4">‡¶á‡¶∏‡¶≤‡¶æ‡¶Æ‡ßá ‡¶®‡¶æ‡¶∞‡ßÄ‡¶∞ ‡¶≠‡¶ø‡¶§‡ßç‡¶§‡¶ø ‡¶ì ‡¶Æ‡¶∞‡ßç‡¶Ø‡¶æ‡¶¶‡¶æ</h2>
            <p class="max-w-3xl mx-auto text-gray-700 leading-relaxed">
                ‡¶á‡¶∏‡¶≤‡¶æ‡¶Æ ‡¶®‡¶æ‡¶∞‡ßÄ‡¶ï‡ßá ‡¶ï‡ßá‡¶¨‡¶≤ ‡¶∏‡¶Æ‡ßç‡¶Æ‡¶æ‡¶® ‡¶¶‡ßá‡ßü ‡¶®‡¶æ, ‡¶¨‡¶∞‡¶Ç ‡¶∏‡¶Æ‡¶æ‡¶ú‡ßá‡¶∞ ‡¶≠‡¶ø‡¶§‡ßç‡¶§‡¶ø ‡¶π‡¶ø‡¶∏‡ßá‡¶¨‡ßá ‡¶™‡ßç‡¶∞‡¶§‡¶ø‡¶∑‡ßç‡¶†‡¶æ ‡¶ï‡¶∞‡ßá‡•§ ‡¶¨‡¶≤‡¶æ ‡¶π‡ßü, "‡¶®‡¶æ‡¶∞‡ßÄ ‡¶∏‡¶Æ‡¶æ‡¶ú‡ßá‡¶∞ ‡¶Ö‡¶∞‡ßç‡¶ß‡ßá‡¶ï, ‡¶è‡¶¨‡¶Ç ‡¶§‡¶ø‡¶®‡¶ø ‡¶¨‡¶æ‡¶ï‡¶ø ‡¶Ö‡¶∞‡ßç‡¶ß‡ßá‡¶ï‡ßá‡¶∞ ‡¶ú‡¶®‡ßç‡¶Æ ‡¶¶‡ßá‡¶®‚Äî‡¶∏‡ßÅ‡¶§‡¶∞‡¶æ‡¶Ç, ‡¶§‡¶ø‡¶®‡¶ø‡¶á ‡¶™‡ßÅ‡¶∞‡ßã ‡¶∏‡¶Æ‡¶æ‡¶ú‡•§" ‡¶è‡¶á ‡¶â‡¶ï‡ßç‡¶§‡¶ø‡¶ü‡¶ø ‡¶®‡¶æ‡¶∞‡ßÄ‡¶∞ ‡¶≠‡ßÇ‡¶Æ‡¶ø‡¶ï‡¶æ‡¶ï‡ßá ‡¶è‡¶ï ‡¶®‡¶§‡ßÅ‡¶® ‡¶â‡¶ö‡ßç‡¶ö‡¶§‡¶æ‡ßü ‡¶®‡¶ø‡ßü‡ßá ‡¶Ø‡¶æ‡ßü, ‡¶Ø‡ßá‡¶ñ‡¶æ‡¶®‡ßá ‡¶§‡¶æ‡¶Å‡¶∞ ‡¶ö‡¶∞‡¶ø‡¶§‡ßç‡¶∞, ‡¶ú‡ßç‡¶û‡¶æ‡¶® ‡¶è‡¶¨‡¶Ç ‡¶à‡¶Æ‡¶æ‡¶®‡¶á ‡¶è‡¶ï‡¶ü‡¶ø ‡¶∏‡¶≠‡ßç‡¶Ø‡¶§‡¶æ‡¶∞ ‡¶Æ‡ßÇ‡¶≤ ‡¶≠‡¶ø‡¶§‡ßç‡¶§‡¶ø ‡¶§‡ßà‡¶∞‡¶ø ‡¶ï‡¶∞‡ßá‡•§
            </p>
        </section>

        <section id="heroines" class="mb-16">
            <h2 class="text-2xl md:text-3xl font-semibold text-center text-[#556B2F] mb-4">‡¶Ö‡¶¨‡¶ø‡¶∏‡ßç‡¶Æ‡¶∞‡¶£‡ßÄ‡ßü ‡¶ö‡¶æ‡¶∞ ‡¶Æ‡¶π‡ßÄ‡ßü‡¶∏‡ßÄ ‡¶®‡¶æ‡¶∞‡ßÄ</h2>
            <p class="text-center max-w-3xl mx-auto text-gray-700 mb-8">
                ‡¶á‡¶∏‡¶≤‡¶æ‡¶Æ‡ßá‡¶∞ ‡¶á‡¶§‡¶ø‡¶π‡¶æ‡¶∏‡ßá‡¶∞ ‡¶™‡¶æ‡¶§‡¶æ‡ßü ‡¶è‡¶Æ‡¶® ‡¶ï‡¶ø‡¶õ‡ßÅ ‡¶®‡¶æ‡¶∞‡ßÄ‡¶∞ ‡¶®‡¶æ‡¶Æ ‡¶∏‡ßç‡¶¨‡¶∞‡ßç‡¶£‡¶æ‡¶ï‡ßç‡¶∑‡¶∞‡ßá ‡¶≤‡ßá‡¶ñ‡¶æ ‡¶Ü‡¶õ‡ßá ‡¶Ø‡¶æ‡¶¶‡ßá‡¶∞ ‡¶§‡ßç‡¶Ø‡¶æ‡¶ó, ‡¶¨‡ßÄ‡¶∞‡¶§‡ßç‡¶¨ ‡¶ì ‡¶à‡¶Æ‡¶æ‡¶®‡ßá‡¶∞ ‡¶ó‡¶≤‡ßç‡¶™ ‡¶Ø‡ßÅ‡¶ó ‡¶Ø‡ßÅ‡¶ó ‡¶ß‡¶∞‡ßá ‡¶Ö‡¶®‡ßÅ‡¶™‡ßç‡¶∞‡ßá‡¶∞‡¶£‡¶æ ‡¶Ø‡ßã‡¶ó‡¶æ‡ßü‡•§ ‡¶è‡¶ñ‡¶æ‡¶®‡ßá ‡¶Ü‡¶Æ‡¶∞‡¶æ ‡¶ö‡¶æ‡¶∞‡¶ú‡¶® ‡¶Æ‡¶π‡ßÄ‡ßü‡¶∏‡ßÄ ‡¶®‡¶æ‡¶∞‡ßÄ ‡¶∏‡¶æ‡¶π‡¶æ‡¶¨‡ßÄ‡¶∞ ‡¶ú‡ßÄ‡¶¨‡¶®‡ßá‡¶∞ ‡¶¨‡¶ø‡¶∂‡ßá‡¶∑ ‡¶ï‡¶ø‡¶õ‡ßÅ ‡¶¶‡¶ø‡¶ï ‡¶§‡ßÅ‡¶≤‡ßá ‡¶ß‡¶∞‡¶¨‡•§ ‡¶®‡¶ø‡¶ö‡ßá‡¶∞ ‡¶ü‡ßç‡¶Ø‡¶æ‡¶¨ ‡¶•‡ßá‡¶ï‡ßá ‡¶Ø‡ßá‡¶ï‡ßã‡¶®‡ßã ‡¶è‡¶ï‡¶ú‡¶®‡ßá‡¶∞ ‡¶∏‡¶Æ‡ßç‡¶™‡¶∞‡ßç‡¶ï‡ßá ‡¶ú‡¶æ‡¶®‡¶§‡ßá ‡¶ï‡ßç‡¶≤‡¶ø‡¶ï ‡¶ï‡¶∞‡ßÅ‡¶®‡•§
            </p>

            <div class="flex flex-wrap justify-center gap-2 md:gap-4 mb-8">
                <button class="tab-button active py-2 px-4 rounded-lg bg-white shadow-md font-semibold text-gray-700" onclick="showTab('sumayyah')">‡¶∏‡ßÅ‡¶Æ‡¶æ‡¶á‡ßü‡¶æ ‡¶¨‡¶ø‡¶®‡¶§‡ßá ‡¶ñ‡¶æ‡¶¨‡ßç‡¶¨‡¶æ‡¶§ (‡¶∞‡¶æ)</button>
                <button class="tab-button py-2 px-4 rounded-lg bg-white shadow-md font-semibold text-gray-700" onclick="showTab('khawla')">‡¶ñ‡¶æ‡¶ì‡¶≤‡¶æ ‡¶¨‡¶ø‡¶®‡¶§‡ßá ‡¶Ü‡¶Ø‡¶ì‡ßü‡¶æ‡¶∞ (‡¶∞‡¶æ)</button>
                <button class="tab-button py-2 px-4 rounded-lg bg-white shadow-md font-semibold text-gray-700" onclick="showTab('umm_hakim')">‡¶â‡¶Æ‡ßç‡¶Æ‡ßá ‡¶π‡¶æ‡¶ï‡¶ø‡¶Æ (‡¶∞‡¶æ)</button>
                <button class="tab-button py-2 px-4 rounded-lg bg-white shadow-md font-semibold text-gray-700" onclick="showTab('nusaybah')">‡¶®‡ßÅ‡¶∏‡¶æ‡¶á‡¶¨‡¶æ ‡¶¨‡¶ø‡¶®‡¶§‡ßá ‡¶ï‡¶æ'‡¶¨ (‡¶∞‡¶æ)</button>
            </div>

            <div id="tab-content" class="mt-8">
            </div>
        </section>

        <section id="comparison" class="mb-16">
            <h2 class="text-2xl md:text-3xl font-semibold text-center text-[#556B2F] mb-4">‡¶ö‡¶æ‡¶∞‡¶ø‡¶§‡ßç‡¶∞‡¶ø‡¶ï ‡¶¨‡ßà‡¶∂‡¶ø‡¶∑‡ßç‡¶ü‡ßç‡¶Ø‡ßá‡¶∞ ‡¶§‡ßÅ‡¶≤‡¶®‡¶æ‡¶Æ‡ßÇ‡¶≤‡¶ï ‡¶ö‡¶ø‡¶§‡ßç‡¶∞</h2>
            <p class="text-center max-w-3xl mx-auto text-gray-700 mb-8">
                ‡¶è‡¶á ‡¶ö‡¶æ‡¶∞‡ßç‡¶ü‡¶ü‡¶ø ‡¶§‡¶æ‡¶Å‡¶¶‡ßá‡¶∞ ‡¶™‡ßç‡¶∞‡¶ß‡¶æ‡¶® ‡¶ó‡ßÅ‡¶£‡¶æ‡¶¨‡¶≤‡ßÄ ‡¶Ø‡ßá‡¶Æ‡¶®‚Äî‡¶∏‡¶¨‡¶∞ (‡¶ß‡ßà‡¶∞‡ßç‡¶Ø), ‡¶¨‡ßÄ‡¶∞‡¶§‡ßç‡¶¨, ‡¶¶‡ßÉ‡ßù‡¶§‡¶æ ‡¶è‡¶¨‡¶Ç ‡¶â‡ßé‡¶∏‡¶∞‡ßç‡¶ó‚Äî‡¶è‡¶∞ ‡¶è‡¶ï‡¶ü‡¶ø ‡¶§‡ßÅ‡¶≤‡¶®‡¶æ‡¶Æ‡ßÇ‡¶≤‡¶ï ‡¶ö‡¶ø‡¶§‡ßç‡¶∞ ‡¶§‡ßÅ‡¶≤‡ßá ‡¶ß‡¶∞‡ßá‡•§ ‡¶™‡ßç‡¶∞‡¶§‡¶ø‡¶ü‡¶ø ‡¶ó‡ßÅ‡¶£‡¶á ‡¶§‡¶æ‡¶Å‡¶¶‡ßá‡¶∞ ‡¶à‡¶Æ‡¶æ‡¶®‡ßá‡¶∞ ‡¶ó‡¶≠‡ßÄ‡¶∞‡¶§‡¶æ‡¶∞ ‡¶™‡ßç‡¶∞‡¶§‡¶ø‡¶´‡¶≤‡¶®‡•§
            </p>
            <div class="chart-container bg-white p-4 rounded-xl shadow-lg">
                <canvas id="virtuesChart"></canvas>
            </div>
        </section>

        <section id="legacy" class="text-center bg-white p-8 rounded-xl shadow-lg">
            <h2 class="text-2xl md:text-3xl font-semibold text-[#556B2F] mb-4">‡¶¨‡¶∞‡ßç‡¶§‡¶Æ‡¶æ‡¶® ‡¶™‡ßç‡¶∞‡¶ú‡¶®‡ßç‡¶Æ‡ßá‡¶∞ ‡¶ú‡¶®‡ßç‡¶Ø ‡¶∂‡¶ø‡¶ï‡ßç‡¶∑‡¶æ</h2>
            <p class="max-w-3xl mx-auto text-gray-700 leading-relaxed mb-6">
                ‡¶è‡¶á ‡¶Æ‡¶π‡ßÄ‡ßü‡¶∏‡ßÄ ‡¶®‡¶æ‡¶∞‡ßÄ‡¶¶‡ßá‡¶∞ ‡¶ú‡ßÄ‡¶¨‡¶® ‡¶Ü‡¶ú‡¶ï‡ßá‡¶∞ ‡¶¶‡¶ø‡¶®‡ßá‡¶∞ ‡¶®‡¶æ‡¶∞‡ßÄ‡¶¶‡ßá‡¶∞ ‡¶ú‡¶®‡ßç‡¶Ø ‡¶è‡¶ï ‡¶∂‡¶ï‡ßç‡¶§‡¶ø‡¶∂‡¶æ‡¶≤‡ßÄ ‡¶¨‡¶æ‡¶∞‡ßç‡¶§‡¶æ ‡¶¨‡¶π‡¶® ‡¶ï‡¶∞‡ßá‡•§ ‡¶§‡¶æ‡¶Å‡¶¶‡ßá‡¶∞ ‡¶¶‡ßá‡¶ñ‡¶æ‡¶®‡ßã ‡¶™‡¶• ‡¶Ö‡¶®‡ßÅ‡¶∏‡¶∞‡¶£ ‡¶ï‡¶∞‡ßá ‡¶Ü‡¶ú‡¶ï‡ßá‡¶∞ ‡¶®‡¶æ‡¶∞‡ßÄ‡¶∞‡¶æ‡¶ì ‡¶™‡¶∞‡¶ø‡¶¨‡¶æ‡¶∞, ‡¶∏‡¶Æ‡¶æ‡¶ú ‡¶è‡¶¨‡¶Ç ‡¶â‡¶Æ‡ßç‡¶Æ‡¶æ‡¶π‡¶∞ ‡¶ú‡¶®‡ßç‡¶Ø ‡¶™‡¶•‡¶™‡ßç‡¶∞‡¶¶‡¶∞‡ßç‡¶∂‡¶ï ‡¶π‡¶§‡ßá ‡¶™‡¶æ‡¶∞‡ßá‡¶®‡•§
            </p>
            <button id="getInspirationBtn" class="gemini-button font-bold py-3 px-6 rounded-lg inline-flex items-center gap-2">
                ‚ú® ‡¶Ü‡¶Æ‡¶æ‡¶∞ ‡¶ú‡¶®‡ßç‡¶Ø ‡¶è‡¶ï‡¶ü‡¶ø ‡¶Ö‡¶®‡ßÅ‡¶™‡ßç‡¶∞‡ßá‡¶∞‡¶£‡¶æ‡¶Æ‡ßÇ‡¶≤‡¶ï ‡¶¨‡¶æ‡¶∞‡ßç‡¶§‡¶æ ‡¶¶‡¶ø‡¶®
            </button>
            <div id="inspirationResult" class="mt-6 text-left"></div>
        </section>

    </main>
    
    <footer class="text-center py-6 mt-8 bg-gray-100">
        <p class="text-gray-600">&copy; 2024 - ‡¶á‡¶∏‡¶≤‡¶æ‡¶Æ‡¶ø‡¶ï ‡¶®‡¶æ‡¶∞‡ßÄ ‡¶¨‡ßÄ‡¶∞‡¶§‡ßç‡¶¨‡¶ó‡¶æ‡¶•‡¶æ‡•§ ‡¶ê‡¶§‡¶ø‡¶π‡¶æ‡¶∏‡¶ø‡¶ï ‡¶â‡ßé‡¶∏‡ßá‡¶∞ ‡¶â‡¶™‡¶∞ ‡¶≠‡¶ø‡¶§‡ßç‡¶§‡¶ø ‡¶ï‡¶∞‡ßá ‡¶§‡ßà‡¶∞‡¶ø‡•§</p>
    </footer>

    <script>
        const heroinesData = {
            sumayyah: {
                name: "‡¶∏‡ßÅ‡¶Æ‡¶æ‡¶á‡ßü‡¶æ ‡¶¨‡¶ø‡¶®‡¶§‡ßá ‡¶ñ‡¶æ‡¶¨‡ßç‡¶¨‡¶æ‡¶§ (‡¶∞‡¶æ)",
                title: "‡¶á‡¶∏‡¶≤‡¶æ‡¶Æ‡ßá‡¶∞ ‡¶™‡ßç‡¶∞‡¶•‡¶Æ ‡¶∂‡¶π‡ßÄ‡¶¶",
                icon: "üõ°Ô∏è",
                story: "‡¶§‡¶ø‡¶®‡¶ø ‡¶õ‡¶ø‡¶≤‡ßá‡¶® ‡¶è‡¶ï‡¶ú‡¶® ‡¶¨‡ßü‡¶∏‡ßç‡¶ï ‡¶è‡¶¨‡¶Ç ‡¶¶‡ßÅ‡¶∞‡ßç‡¶¨‡¶≤ ‡¶¶‡¶æ‡¶∏‡ßÄ, ‡¶ï‡¶ø‡¶®‡ßç‡¶§‡ßÅ ‡¶§‡¶æ‡¶Å‡¶∞ ‡¶à‡¶Æ‡¶æ‡¶® ‡¶õ‡¶ø‡¶≤ ‡¶™‡¶∞‡ßç‡¶¨‡¶§‡ßá‡¶∞ ‡¶Æ‡¶§‡ßã ‡¶Ö‡¶ü‡¶≤‡•§ ‡¶á‡¶∏‡¶≤‡¶æ‡¶Æ ‡¶ó‡ßç‡¶∞‡¶π‡¶£‡ßá‡¶∞ '‡¶Ö‡¶™‡¶∞‡¶æ‡¶ß‡ßá' ‡¶Ü‡¶¨‡ßÅ ‡¶ú‡¶æ‡¶π‡ßá‡¶≤ ‡¶ì ‡¶§‡¶æ‡¶∞ ‡¶∏‡¶ô‡ßç‡¶ó‡ßÄ‡¶∞‡¶æ ‡¶§‡¶æ‡¶Å‡¶ï‡ßá ‡¶Æ‡¶∞‡ßÅ‡¶≠‡ßÇ‡¶Æ‡¶ø‡¶∞ ‡¶§‡¶™‡ßç‡¶§ ‡¶¨‡¶æ‡¶≤‡ßÅ‡¶§‡ßá ‡¶Ö‡¶ï‡¶•‡ßç‡¶Ø ‡¶®‡¶ø‡¶∞‡ßç‡¶Ø‡¶æ‡¶§‡¶® ‡¶ï‡¶∞‡¶§‡•§ ‡¶ï‡¶ø‡¶®‡ßç‡¶§‡ßÅ ‡¶§‡¶ø‡¶®‡¶ø ‡¶è‡¶ï ‡¶Æ‡ßÅ‡¶π‡ßÇ‡¶∞‡ßç‡¶§‡ßá‡¶∞ ‡¶ú‡¶®‡ßç‡¶Ø‡¶ì ‡¶à‡¶Æ‡¶æ‡¶® ‡¶•‡ßá‡¶ï‡ßá ‡¶¨‡¶ø‡¶ö‡ßç‡¶Ø‡ßÅ‡¶§ ‡¶π‡¶®‡¶®‡¶ø‡•§ ‡¶Ü‡¶¨‡ßÅ ‡¶ú‡¶æ‡¶π‡ßá‡¶≤‡ßá‡¶∞ ‡¶¨‡¶∞‡ßç‡¶∂‡¶æ‡¶∞ ‡¶Ü‡¶ò‡¶æ‡¶§‡ßá ‡¶∂‡¶π‡ßÄ‡¶¶ ‡¶π‡ßü‡ßá ‡¶§‡¶ø‡¶®‡¶ø ‡¶á‡¶∏‡¶≤‡¶æ‡¶Æ‡ßá‡¶∞ ‡¶á‡¶§‡¶ø‡¶π‡¶æ‡¶∏‡ßá ‡¶™‡ßç‡¶∞‡¶•‡¶Æ ‡¶∂‡¶π‡ßÄ‡¶¶‡ßá‡¶∞ ‡¶Æ‡¶∞‡ßç‡¶Ø‡¶æ‡¶¶‡¶æ ‡¶≤‡¶æ‡¶≠ ‡¶ï‡¶∞‡ßá‡¶®‡•§ ‡¶§‡¶æ‡¶Å‡¶∞ ‡¶è‡¶á ‡¶Ü‡¶§‡ßç‡¶Æ‡¶§‡ßç‡¶Ø‡¶æ‡¶ó ‡¶™‡ßç‡¶∞‡¶Æ‡¶æ‡¶£ ‡¶ï‡¶∞‡ßá ‡¶Ø‡ßá, ‡¶∂‡¶æ‡¶∞‡ßÄ‡¶∞‡¶ø‡¶ï ‡¶¶‡ßÅ‡¶∞‡ßç‡¶¨‡¶≤‡¶§‡¶æ ‡¶à‡¶Æ‡¶æ‡¶®‡ßá‡¶∞ ‡¶∂‡¶ï‡ßç‡¶§‡¶ø‡¶∞ ‡¶∏‡¶æ‡¶Æ‡¶®‡ßá ‡¶ï‡¶ø‡¶õ‡ßÅ‡¶á ‡¶®‡ßü‡•§",
                chartData: { labels: ['‡¶à‡¶Æ‡¶æ‡¶®‡ßá‡¶∞ ‡¶¶‡ßÉ‡ßù‡¶§‡¶æ'], values: [100], label: '‡¶Ü‡¶§‡ßç‡¶Æ‡¶§‡ßç‡¶Ø‡¶æ‡¶ó' }
            },
            khawla: {
                name: "‡¶ñ‡¶æ‡¶ì‡¶≤‡¶æ ‡¶¨‡¶ø‡¶®‡¶§‡ßá ‡¶Ü‡¶Ø‡¶ì‡ßü‡¶æ‡¶∞ (‡¶∞‡¶æ)",
                title: "‡¶™‡¶∞‡ßç‡¶¶‡¶æ‡¶®‡¶∂‡ßÄ‡¶≤ ‡¶¨‡ßÄ‡¶∞ ‡¶Ø‡ßã‡¶¶‡ßç‡¶ß‡¶æ",
                icon: "‚öîÔ∏è",
                story: "‡¶á‡ßü‡¶æ‡¶∞‡¶Æ‡ßÅ‡¶ï‡ßá‡¶∞ ‡¶Ø‡ßÅ‡¶¶‡ßç‡¶ß‡ßá ‡¶Ø‡¶ñ‡¶® ‡¶Æ‡ßÅ‡¶∏‡¶≤‡¶ø‡¶Æ ‡¶¨‡¶æ‡¶π‡¶ø‡¶®‡ßÄ ‡¶ï‡¶ø‡¶õ‡ßÅ‡¶ü‡¶æ ‡¶¨‡¶ø‡¶™‡¶∞‡ßç‡¶Ø‡¶∏‡ßç‡¶§, ‡¶§‡¶ñ‡¶® ‡¶ï‡¶æ‡¶≤‡ßã ‡¶ï‡¶æ‡¶™‡ßú‡ßá ‡¶Æ‡ßÅ‡¶ñ ‡¶¢‡¶æ‡¶ï‡¶æ ‡¶è‡¶ï ‡¶Ö‡¶∂‡ßç‡¶¨‡¶æ‡¶∞‡ßã‡¶π‡ßÄ ‡¶¨‡¶ø‡¶¶‡ßç‡¶Ø‡ßÅ‡¶§‡ßá‡¶∞ ‡¶ó‡¶§‡¶ø‡¶§‡ßá ‡¶∞‡ßã‡¶Æ‡¶æ‡¶® ‡¶¨‡¶æ‡¶π‡¶ø‡¶®‡ßÄ‡¶∞ ‡¶â‡¶™‡¶∞ ‡¶ù‡¶æ‡¶Å‡¶™‡¶ø‡ßü‡ßá ‡¶™‡ßú‡ßá‡¶®‡•§ ‡¶§‡¶æ‡¶Å‡¶∞ ‡¶¨‡ßÄ‡¶∞‡¶§‡ßç‡¶¨ ‡¶¶‡ßá‡¶ñ‡ßá ‡¶∏‡ßá‡¶®‡¶æ‡¶™‡¶§‡¶ø ‡¶ñ‡¶æ‡¶≤‡¶ø‡¶¶ ‡¶¨‡¶ø‡¶® ‡¶ì‡ßü‡¶æ‡¶≤‡¶ø‡¶¶ (‡¶∞‡¶æ) ‡¶™‡¶∞‡ßç‡¶Ø‡¶®‡ßç‡¶§ ‡¶Ö‡¶¨‡¶æ‡¶ï ‡¶π‡ßü‡ßá‡¶õ‡¶ø‡¶≤‡ßá‡¶®‡•§ ‡¶™‡¶∞‡ßá ‡¶ú‡¶æ‡¶®‡¶æ ‡¶Ø‡¶æ‡ßü, ‡¶è‡¶á ‡¶¨‡ßÄ‡¶∞ ‡¶Ø‡ßã‡¶¶‡ßç‡¶ß‡¶æ ‡¶õ‡¶ø‡¶≤‡ßá‡¶® ‡¶ñ‡¶æ‡¶ì‡¶≤‡¶æ ‡¶¨‡¶ø‡¶®‡¶§‡ßá ‡¶Ü‡¶Ø‡¶ì‡ßü‡¶æ‡¶∞ (‡¶∞‡¶æ)‡•§ ‡¶§‡¶ø‡¶®‡¶ø ‡¶™‡ßç‡¶∞‡¶Æ‡¶æ‡¶£ ‡¶ï‡¶∞‡ßá‡¶õ‡ßá‡¶®, ‡¶™‡¶∞‡ßç‡¶¶‡¶æ ‡¶è‡¶¨‡¶Ç ‡¶¨‡ßÄ‡¶∞‡¶§‡ßç‡¶¨ ‡¶è‡¶ï‡¶∏‡¶æ‡¶•‡ßá ‡¶ö‡¶≤‡¶§‡ßá ‡¶™‡¶æ‡¶∞‡ßá‡•§ ‡¶§‡¶ø‡¶®‡¶ø ‡¶¨‡¶®‡ßç‡¶¶‡ßÄ ‡¶Ö‡¶¨‡¶∏‡ßç‡¶•‡¶æ‡ßü ‡¶Ö‡¶®‡ßç‡¶Ø ‡¶®‡¶æ‡¶∞‡ßÄ‡¶¶‡ßá‡¶∞ ‡¶®‡¶ø‡ßü‡ßá ‡¶§‡¶æ‡¶Å‡¶¨‡ßÅ‡¶∞ ‡¶ñ‡ßÅ‡¶Å‡¶ü‡¶ø ‡¶¶‡¶ø‡ßü‡ßá ‡¶Ø‡ßÅ‡¶¶‡ßç‡¶ß ‡¶ï‡¶∞‡ßá ‡¶®‡¶ø‡¶ú‡ßá‡¶¶‡ßá‡¶∞ ‡¶∞‡¶ï‡ßç‡¶∑‡¶æ ‡¶ï‡¶∞‡ßá‡¶õ‡¶ø‡¶≤‡ßá‡¶®‡•§",
                chartData: { labels: ['‡¶∏‡¶æ‡¶π‡¶∏‡¶ø‡¶ï‡¶§‡¶æ'], values: [100], label: '‡¶¨‡ßÄ‡¶∞‡¶§‡ßç‡¶¨' }
            },
            umm_hakim: {
                name: "‡¶â‡¶Æ‡ßç‡¶Æ‡ßá ‡¶π‡¶æ‡¶ï‡¶ø‡¶Æ ‡¶¨‡¶ø‡¶®‡¶§‡ßá ‡¶π‡¶æ‡¶∞‡¶ø‡¶∏ (‡¶∞‡¶æ)",
                title: "‡¶®‡¶¨‡¶¨‡¶ß‡ßÇ ‡¶∂‡¶π‡ßÄ‡¶¶",
                icon: "üíî",
                story: "‡¶á‡ßü‡¶æ‡¶∞‡¶Æ‡ßÅ‡¶ï‡ßá‡¶∞ ‡¶Ø‡ßÅ‡¶¶‡ßç‡¶ß‡ßá‡¶∞ ‡¶Æ‡ßü‡¶¶‡¶æ‡¶®‡ßá ‡¶§‡¶æ‡¶Å‡¶∞ ‡¶¨‡¶ø‡ßü‡ßá ‡¶π‡ßü‡•§ ‡¶¨‡¶ø‡ßü‡ßá‡¶∞ ‡¶™‡¶∞‡ßá‡¶∞ ‡¶¶‡¶ø‡¶® ‡¶∏‡¶ï‡¶æ‡¶≤‡ßá‡¶á ‡¶§‡¶æ‡¶Å‡¶∞ ‡¶∏‡ßç‡¶¨‡¶æ‡¶Æ‡ßÄ ‡¶∂‡¶π‡ßÄ‡¶¶ ‡¶π‡¶®‡•§ ‡¶∂‡ßã‡¶ï‡¶æ‡¶π‡¶§ ‡¶π‡¶ì‡ßü‡¶æ‡¶∞ ‡¶¨‡¶¶‡¶≤‡ßá ‡¶§‡¶ø‡¶®‡¶ø ‡¶§‡¶æ‡¶Å‡¶∞ ‡¶¨‡¶ø‡ßü‡ßá‡¶∞ ‡¶§‡¶æ‡¶Å‡¶¨‡ßÅ‡¶∞ ‡¶ñ‡ßÅ‡¶Å‡¶ü‡¶ø‡¶ï‡ßá‡¶á ‡¶Ö‡¶∏‡ßç‡¶§‡ßç‡¶∞ ‡¶¨‡¶æ‡¶®‡¶ø‡ßü‡ßá ‡¶´‡ßá‡¶≤‡ßá‡¶® ‡¶è‡¶¨‡¶Ç ‡¶è‡¶ï‡¶æ‡¶á ‡ß≠ ‡¶ú‡¶® ‡¶∞‡ßã‡¶Æ‡¶æ‡¶® ‡¶∏‡ßà‡¶®‡ßç‡¶Ø‡¶ï‡ßá ‡¶π‡¶§‡ßç‡¶Ø‡¶æ ‡¶ï‡¶∞‡ßá‡¶®‡•§ ‡¶§‡¶æ‡¶Å‡¶∞ ‡¶è‡¶á ‡¶ò‡¶ü‡¶®‡¶æ ‡¶ö‡¶∞‡¶Æ ‡¶¨‡ßç‡¶Ø‡¶ï‡ßç‡¶§‡¶ø‡¶ó‡¶§ ‡¶§‡ßç‡¶Ø‡¶æ‡¶ó‡ßá‡¶∞ ‡¶è‡¶ï ‡¶Ö‡¶∏‡¶æ‡¶ß‡¶æ‡¶∞‡¶£ ‡¶â‡¶¶‡¶æ‡¶π‡¶∞‡¶£, ‡¶Ø‡ßá‡¶ñ‡¶æ‡¶®‡ßá ‡¶¶‡ßç‡¶¨‡ßÄ‡¶®‡ßá‡¶∞ ‡¶Æ‡¶∞‡ßç‡¶Ø‡¶æ‡¶¶‡¶æ ‡¶¨‡ßç‡¶Ø‡¶ï‡ßç‡¶§‡¶ø‡¶ó‡¶§ ‡¶∏‡ßÅ‡¶ñ‡ßá‡¶∞ ‡¶ä‡¶∞‡ßç‡¶ß‡ßç‡¶¨‡ßá ‡¶∏‡ßç‡¶•‡¶æ‡¶® ‡¶™‡ßá‡ßü‡ßá‡¶õ‡¶ø‡¶≤‡•§",
                chartData: { labels: ['‡¶π‡¶§‡ßç‡¶Ø‡¶æ ‡¶ï‡¶∞‡¶æ ‡¶∂‡¶§‡ßç‡¶∞‡ßÅ ‡¶∏‡ßà‡¶®‡ßç‡¶Ø'], values: [7], label: '‡¶∏‡¶Ç‡¶ñ‡ßç‡¶Ø‡¶æ' }
            },
            nusaybah: {
                name: "‡¶®‡ßÅ‡¶∏‡¶æ‡¶á‡¶¨‡¶æ ‡¶¨‡¶ø‡¶®‡¶§‡ßá ‡¶ï‡¶æ'‡¶¨ (‡¶∞‡¶æ)",
                title: "‡¶∞‡¶æ‡¶∏‡ßÇ‡¶≤ (Ô∑∫) ‡¶è‡¶∞ ‡¶¢‡¶æ‡¶≤",
                icon: "‚ù§Ô∏è",
                story: "‡¶â‡¶π‡ßÅ‡¶¶‡ßá‡¶∞ ‡¶Ø‡ßÅ‡¶¶‡ßç‡¶ß‡ßá ‡¶Ø‡¶ñ‡¶® ‡¶Æ‡ßÅ‡¶∏‡¶≤‡¶ø‡¶Æ‡¶¶‡ßá‡¶∞ ‡¶Ö‡¶¨‡¶∏‡ßç‡¶•‡¶æ ‡¶∏‡¶ô‡ßç‡¶ó‡ßÄ‡¶® ‡¶è‡¶¨‡¶Ç ‡¶∞‡¶æ‡¶∏‡ßÇ‡¶≤ (Ô∑∫) ‡¶¨‡¶ø‡¶™‡¶¶‡ßá‡¶∞ ‡¶Æ‡ßÅ‡¶ñ‡ßá, ‡¶§‡¶ñ‡¶® ‡¶®‡ßÅ‡¶∏‡¶æ‡¶á‡¶¨‡¶æ (‡¶∞‡¶æ) ‡¶®‡¶ø‡¶ú‡ßá‡¶∞ ‡¶∂‡¶∞‡ßÄ‡¶∞‡¶ï‡ßá ‡¶¢‡¶æ‡¶≤ ‡¶¨‡¶æ‡¶®‡¶ø‡ßü‡ßá ‡¶∞‡¶æ‡¶∏‡ßÇ‡¶≤ (Ô∑∫) ‡¶ï‡ßá ‡¶∞‡¶ï‡ßç‡¶∑‡¶æ ‡¶ï‡¶∞‡ßá‡¶õ‡¶ø‡¶≤‡ßá‡¶®‡•§ ‡¶§‡¶ø‡¶®‡¶ø ‡¶è‡¶ï‡¶æ‡¶á ‡ßß‡ß©‡¶ü‡¶ø ‡¶Ü‡¶ò‡¶æ‡¶§ ‡¶™‡ßá‡ßü‡ßá‡¶õ‡¶ø‡¶≤‡ßá‡¶®‡•§ ‡¶∞‡¶æ‡¶∏‡ßÇ‡¶≤ (Ô∑∫) ‡¶¨‡¶≤‡ßá‡¶õ‡¶ø‡¶≤‡ßá‡¶®, '‡¶Ü‡¶Æ‡¶ø ‡¶°‡¶æ‡¶®‡ßá-‡¶¨‡¶æ‡¶Æ‡ßá ‡¶Ø‡ßá‡¶ñ‡¶æ‡¶®‡ßá‡¶á ‡¶§‡¶æ‡¶ï‡¶ø‡ßü‡ßá‡¶õ‡¶ø, ‡¶®‡ßÅ‡¶∏‡¶æ‡¶á‡¶¨‡¶æ‡¶ï‡ßá‡¶á ‡¶Ü‡¶Æ‡¶æ‡¶ï‡ßá ‡¶∞‡¶ï‡ßç‡¶∑‡¶æ ‡¶ï‡¶∞‡¶§‡ßá ‡¶¶‡ßá‡¶ñ‡ßá‡¶õ‡¶ø‡•§' ‡¶§‡¶æ‡¶Å‡¶∞ ‡¶è‡¶ï‡¶Æ‡¶æ‡¶§‡ßç‡¶∞ ‡¶Ü‡¶∞‡¶ú‡¶ø ‡¶õ‡¶ø‡¶≤ ‡¶ú‡¶æ‡¶®‡ßç‡¶®‡¶æ‡¶§‡ßá ‡¶∞‡¶æ‡¶∏‡ßÇ‡¶≤ (Ô∑∫)-‡¶è‡¶∞ ‡¶∏‡¶ô‡ßç‡¶ó‡ßÄ ‡¶π‡¶ì‡ßü‡¶æ‡•§ ‡¶§‡¶æ‡¶Å‡¶∞ ‡¶ú‡ßÄ‡¶¨‡¶® ‡¶õ‡¶ø‡¶≤ ‡¶à‡¶Æ‡¶æ‡¶®, ‡¶≠‡¶æ‡¶≤‡ßã‡¶¨‡¶æ‡¶∏‡¶æ ‡¶è‡¶¨‡¶Ç ‡¶â‡ßé‡¶∏‡¶∞‡ßç‡¶ó‡ßá‡¶∞ ‡¶è‡¶ï ‡¶ú‡ßÄ‡¶¨‡¶®‡ßç‡¶§ ‡¶™‡ßç‡¶∞‡¶§‡¶ø‡¶ö‡ßç‡¶õ‡¶¨‡¶ø‡•§",
                 chartData: { labels: ['‡¶∂‡¶∞‡ßÄ‡¶∞‡ßá ‡¶Ü‡¶ò‡¶æ‡¶§‡ßá‡¶∞ ‡¶∏‡¶Ç‡¶ñ‡ßç‡¶Ø‡¶æ'], values: [13], label: '‡¶∏‡¶Ç‡¶ñ‡ßç‡¶Ø‡¶æ' }
            }
        };

        let activeTab = 'sumayyah';
        const contentContainer = document.getElementById('tab-content');
        let smallChartInstance = null;
        let virtuesChartInstance = null;

        async function getGeminiResponse(prompt) {
            const apiKey = "AIzaSyBdOPNV9QsLtaDuiIAkfB3yBHvwyeAoHb4"; 
            const apiUrl = `https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash:generateContent?key=${apiKey}`;
            
            const payload = {
                contents: [{
                    role: "user",
                    parts: [{ text: prompt }]
                }],
                generationConfig: {
                    temperature: 0.7,
                    topK: 1,
                    topP: 1,
                    maxOutputTokens: 2048,
                }
            };

            try {
                const response = await fetch(apiUrl, {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify(payload)
                });

                if (!response.ok) {
                    throw new Error(`API Error: ${response.statusText}`);
                }

                const result = await response.json();
                if (result.candidates && result.candidates.length > 0 &&
                    result.candidates[0].content && result.candidates[0].content.parts &&
                    result.candidates[0].content.parts.length > 0) {
                    return result.candidates[0].content.parts[0].text;
                } else {
                    return "‡¶¶‡ßÅ‡¶É‡¶ñ‡¶ø‡¶§, ‡¶è‡¶á ‡¶Æ‡ßÅ‡¶π‡ßÇ‡¶∞‡ßç‡¶§‡ßá ‡¶ï‡ßã‡¶®‡ßã ‡¶â‡¶§‡ßç‡¶§‡¶∞ ‡¶§‡ßà‡¶∞‡¶ø ‡¶ï‡¶∞‡¶æ ‡¶∏‡¶Æ‡ßç‡¶≠‡¶¨ ‡¶π‡¶ö‡ßç‡¶õ‡ßá ‡¶®‡¶æ‡•§";
                }
            } catch (error) {
                console.error("Gemini API call failed:", error);
                return "‡¶¶‡ßÅ‡¶É‡¶ñ‡¶ø‡¶§, ‡¶è‡¶ï‡¶ü‡¶ø ‡¶™‡ßç‡¶∞‡¶Ø‡ßÅ‡¶ï‡ßç‡¶§‡¶ø‡¶ó‡¶§ ‡¶∏‡¶Æ‡¶∏‡ßç‡¶Ø‡¶æ ‡¶π‡ßü‡ßá‡¶õ‡ßá‡•§ ‡¶Ö‡¶®‡ßÅ‡¶ó‡ßç‡¶∞‡¶π ‡¶ï‡¶∞‡ßá ‡¶Ü‡¶¨‡¶æ‡¶∞ ‡¶ö‡ßá‡¶∑‡ßç‡¶ü‡¶æ ‡¶ï‡¶∞‡ßÅ‡¶®‡•§";
            }
        }

        function showTab(tabName) {
            activeTab = tabName;
            updateContent();
            
            document.querySelectorAll('.tab-button').forEach(button => button.classList.remove('active'));
            document.querySelector(`.tab-button[onclick="showTab('${tabName}')"]`).classList.add('active');
        }

        function updateContent() {
            const data = heroinesData[activeTab];
            contentContainer.innerHTML = `
                <div class="content-card p-6 md:p-8 rounded-xl shadow-lg animate-fade-in">
                    <div class="grid grid-cols-1 md:grid-cols-3 gap-6">
                        <div class="md:col-span-2">
                            <h3 class="text-2xl font-bold text-[#556B2F] flex items-center gap-3">
                                <span class="hero-icon">${data.icon}</span>
                                ${data.name}
                            </h3>
                            <p class="text-lg font-semibold text-gray-500 mb-4">${data.title}</p>
                            <p class="text-gray-700 leading-relaxed">${data.story}</p>
                            <button class="gemini-button font-bold py-2 px-4 rounded-lg mt-6 inline-flex items-center gap-2" onclick="getMoralLessons()">
                                ‚ú® ‡¶è‡¶á ‡¶ò‡¶ü‡¶®‡¶æ ‡¶•‡ßá‡¶ï‡ßá ‡¶ï‡ßÄ ‡¶∂‡¶ø‡¶ï‡ßç‡¶∑‡¶æ ‡¶™‡¶æ‡¶á?
                            </button>
                            <div id="lessonsResult" class="mt-4"></div>
                        </div>
                        <div class="flex items-center justify-center p-4">
                            <div class="h-48 md:h-64 w-full">
                                 <canvas id="smallChart"></canvas>
                            </div>
                        </div>
                    </div>
                </div>`;
            createSmallChart(data.chartData);
        }

        async function getMoralLessons() {
            const resultDiv = document.getElementById('lessonsResult');
            resultDiv.innerHTML = '<div class="flex justify-start items-center gap-2 text-gray-600"><div class="loader"></div><span>‡¶∂‡¶ø‡¶ï‡ßç‡¶∑‡¶æ ‡¶§‡ßà‡¶∞‡¶ø ‡¶ï‡¶∞‡¶æ ‡¶π‡¶ö‡ßç‡¶õ‡ßá...</span></div>';
            
            const story = heroinesData[activeTab].story;
            const prompt = `Based on the following story in Bengali, generate 2-3 key moral lessons that a modern person can apply to their life. The story is: "${story}". Respond ONLY in concise, encouraging Bengali, formatted as a list.`;
            
            const lessons = await getGeminiResponse(prompt);
            
            resultDiv.innerHTML = `<div class="gemini-response p-4 mt-2 rounded-md">${lessons.replace(/\n/g, '<br>')}</div>`;
        }


        function createSmallChart(data) {
            if (smallChartInstance) smallChartInstance.destroy();
            const ctx = document.getElementById('smallChart').getContext('2d');
            smallChartInstance = new Chart(ctx, {
                type: 'bar',
                data: {
                    labels: data.labels,
                    datasets: [{
                        label: data.label,
                        data: data.values,
                        backgroundColor: '#8F9779',
                        borderColor: '#556B2F',
                        borderWidth: 2,
                        borderRadius: 5,
                        barThickness: 50,
                    }]
                },
                options: {
                    indexAxis: 'y',
                    responsive: true,
                    maintainAspectRatio: false,
                    scales: {
                        x: { beginAtZero: true, grid: { display: false }, ticks: { font: { family: "'Hind Siliguri', sans-serif" }} },
                        y: { grid: { display: false }, ticks: { font: { family: "'Hind Siliguri', sans-serif" }} }
                    },
                    plugins: {
                        legend: { display: false },
                        tooltip: {
                            backgroundColor: '#556B2F',
                            titleFont: { size: 14, family: "'Hind Siliguri', sans-serif" },
                            bodyFont: { size: 12, family: "'Hind Siliguri', sans-serif" }
                        }
                    }
                }
            });
        }
        
        document.addEventListener('DOMContentLoaded', () => {
            showTab('sumayyah');

            const virtuesCtx = document.getElementById('virtuesChart').getContext('2d');
            if (virtuesChartInstance) virtuesChartInstance.destroy();
            virtuesChartInstance = new Chart(virtuesCtx, {
                type: 'polarArea',
                data: {
                    labels: ['‡¶∏‡ßÅ‡¶Æ‡¶æ‡¶á‡ßü‡¶æ (‡¶∏‡¶¨‡¶∞)', '‡¶ñ‡¶æ‡¶ì‡¶≤‡¶æ (‡¶¨‡ßÄ‡¶∞‡¶§‡ßç‡¶¨)', '‡¶â‡¶Æ‡ßç‡¶Æ‡ßá ‡¶π‡¶æ‡¶ï‡¶ø‡¶Æ (‡¶¶‡ßÉ‡ßù‡¶§‡¶æ)', '‡¶®‡ßÅ‡¶∏‡¶æ‡¶á‡¶¨‡¶æ (‡¶â‡ßé‡¶∏‡¶∞‡ßç‡¶ó)'],
                    datasets: [{
                        label: '‡¶™‡ßç‡¶∞‡¶ß‡¶æ‡¶® ‡¶ö‡¶æ‡¶∞‡¶ø‡¶§‡ßç‡¶∞‡¶ø‡¶ï ‡¶ó‡ßÅ‡¶£‡¶æ‡¶¨‡¶≤‡ßÄ',
                        data: [10, 9, 8, 10],
                        backgroundColor: ['rgba(143, 151, 121, 0.7)','rgba(85, 107, 47, 0.7)','rgba(189, 183, 107, 0.7)','rgba(205, 133, 63, 0.7)']
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    scales: {
                        r: {
                            pointLabels: { display: true, centerPointLabels: true, font: { size: 13, family: "'Hind Siliguri', sans-serif" }},
                             grid: { color: 'rgba(0, 0, 0, 0.1)' },
                             ticks: { backdropColor: 'rgba(253, 251, 245, 0.75)', color: '#333', font: { family: "'Hind Siliguri', sans-serif" }}
                        }
                    },
                    plugins: {
                        legend: { position: 'top', labels: { font: { size: 14, family: "'Hind Siliguri', sans-serif" }}},
                        tooltip: {
                            backgroundColor: '#556B2F',
                            titleFont: { size: 16, family: "'Hind Siliguri', sans-serif" },
                            bodyFont: { size: 14, family: "'Hind Siliguri', sans-serif" },
                            callbacks: {
                                label: function(context) {
                                    return `${context.dataset.label || ''}: ${context.label}`;
                                }
                            }
                        }
                    }
                }
            });

            document.getElementById('getInspirationBtn').addEventListener('click', async () => {
                const resultDiv = document.getElementById('inspirationResult');
                resultDiv.innerHTML = '<div class="flex justify-center items-center gap-2 text-gray-600"><div class="loader"></div><span>‡¶¨‡¶æ‡¶∞‡ßç‡¶§‡¶æ ‡¶§‡ßà‡¶∞‡¶ø ‡¶ï‡¶∞‡¶æ ‡¶π‡¶ö‡ßç‡¶õ‡ßá...</span></div>';
                
                const prompt = `Based on the collective spirit of heroic women from Islamic history who showed immense faith, courage, sacrifice, and patience, generate a short, single, powerful, and personal inspirational message for someone today seeking strength. Respond ONLY in encouraging Bengali.`;
                
                const inspiration = await getGeminiResponse(prompt);
                resultDiv.innerHTML = `<div class="gemini-response p-4 mt-2 rounded-md text-center text-lg italic">${inspiration}</div>`;
            });
        });

    </script>
</body>
</html>
