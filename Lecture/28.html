<!DOCTYPE html>
<html lang="bn" class="scroll-smooth">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>рж╣рзЗржжрж╛ржпрж╝рзЗрждрзЗрж░ ржкржерзЗ ржпрж╛рждрзНрж░рж╛</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Hind+Siliguri:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <!-- Chosen Palette: Warm Neutral (bg-stone-100, text-stone-800, accent-teal-600) -->
    <!-- Application Structure Plan: A thematic, single-page journey application with an added interactive AI section. The core structure remains the same (thematic sections, sticky nav) for exploring the sermon's content. A new section, 'Your Personal Path', is added, featuring two Gemini API-powered tools: a 'Dua & Reflection Generator' and a 'Dilemma & Guidance' helper. This enhances the app from a content viewer to a personal spiritual tool, making the sermon's teachings directly applicable to the user's life. -->
    <!-- Visualization & Content Choices: Added Gemini API features. 1) User Input (Struggle) -> Goal: Personalize & Comfort -> Viz/Presentation: Text area input, button, and text block output -> Interaction: JS-powered API call to Gemini -> Justification: Creates a personalized spiritual reflection and prayer, making the app highly relevant. 2) User Input (Dilemma) -> Goal: Provide Guidance -> Viz/Presentation: Text area input, button, and text block output -> Interaction: JS-powered API call to Gemini -> Justification: Applies the sermon's principles to real-life user problems, offering actionable advice. The core report is qualitative; these AI features add an interactive, personalized layer without needing data charts. -->
    <!-- CONFIRMATION: NO SVG graphics used. NO Mermaid JS used. -->
    <style>
        body {
            font-family: 'Hind Siliguri', sans-serif;
        }
        .active-nav {
            color: #0d9488; /* teal-600 */
            font-weight: 600;
            border-bottom: 2px solid #0d9488;
        }
        .nav-link {
            transition: color 0.3s, border-bottom 0.3s;
            padding-bottom: 4px;
            border-bottom: 2px solid transparent;
        }
        .gemini-output {
            white-space: pre-wrap;
            background-color: #f5f5f4; /* stone-200 */
            border-left: 4px solid #0d9488; /* teal-600 */
            padding: 1rem;
            border-radius: 0.5rem;
            margin-top: 1rem;
            min-height: 100px;
        }
        .loader {
            width: 48px;
            height: 48px;
            border: 5px solid #FFF;
            border-bottom-color: #0d9488;
            border-radius: 50%;
            display: inline-block;
            box-sizing: border-box;
            animation: rotation 1s linear infinite;
        }

        @keyframes rotation {
            0% {
                transform: rotate(0deg);
            }
            100% {
                transform: rotate(360deg);
            }
        }
    </style>
</head>
<body class="bg-stone-100 text-stone-800 antialiased">

    <!-- Header & Navigation -->
    <header id="header" class="bg-stone-100/80 backdrop-blur-sm sticky top-0 z-50 shadow-sm">
        <div class="container mx-auto px-4">
            <nav class="flex justify-between items-center py-4">
                <h1 class="text-2xl md:text-3xl font-bold text-teal-700">рж╣рзЗржжрж╛ржпрж╝рзЗрждрзЗрж░ ржкржерзЗ ржпрж╛рждрзНрж░рж╛</h1>
                <div class="hidden md:flex items-center space-x-6 lg:space-x-8 text-lg">
                    <a href="#hidayah" class="nav-link">рж╣рзЗржжрж╛ржпрж╝рзЗрждрзЗрж░ ржирзЗржпрж╝рж╛ржоржд</a>
                    <a href="#two-paths" class="nav-link">ржжрзБржЗ ржкрже</a>
                    <a href="#steadfastness" class="nav-link">рж╕рзНржерж┐рж░рждрж╛рж░ ржЖржжрж░рзНрж╢</a>
                    <a href="#personal-path" class="nav-link">ржЖржкржирж╛рж░ ржкрже тЬи</a>
                    <a href="#return-path" class="nav-link">ржлрж┐рж░рзЗ ржЖрж╕рж╛</a>
                </div>
                <button id="mobile-menu-button" class="md:hidden p-2">
                    <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16"></path></svg>
                </button>
            </nav>
        </div>
        <!-- Mobile Menu -->
        <div id="mobile-menu" class="hidden md:hidden bg-stone-100">
            <a href="#hidayah" class="block text-center py-2 px-4 text-lg hover:bg-teal-50">рж╣рзЗржжрж╛ржпрж╝рзЗрждрзЗрж░ ржирзЗржпрж╝рж╛ржоржд</a>
            <a href="#two-paths" class="block text-center py-2 px-4 text-lg hover:bg-teal-50">ржжрзБржЗ ржкрже</a>
            <a href="#steadfastness" class="block text-center py-2 px-4 text-lg hover:bg-teal-50">рж╕рзНржерж┐рж░рждрж╛рж░ ржЖржжрж░рзНрж╢</a>
            <a href="#personal-path" class="block text-center py-2 px-4 text-lg hover:bg-teal-50">ржЖржкржирж╛рж░ ржкрже тЬи</a>
            <a href="#return-path" class="block text-center py-2 px-4 text-lg hover:bg-teal-50">ржлрж┐рж░рзЗ ржЖрж╕рж╛</a>
        </div>
    </header>

    <main class="container mx-auto px-4 py-8 md:py-12">

        <!-- Section 1: The Blessing of Hidayah -->
        <section id="hidayah" class="min-h-[60vh] flex items-center justify-center text-center rounded-lg bg-white p-8 shadow-lg mb-16">
            <div>
                <h2 class="text-3xl md:text-5xl font-bold text-teal-700 mb-4">рж╣рзЗржжрж╛ржпрж╝рзЗрждрзЗрж░ ржирзЗржпрж╝рж╛ржоржд</h2>
                <p class="text-lg md:text-xl max-w-4xl mx-auto leading-relaxed">
                    ржПржЗ ржмрж┐ржнрж╛ржЧрзЗ рж╣рзЗржжрж╛ржпрж╝рзЗрждрзЗрж░ ржЕржорзВрж▓рзНржп ржирзЗржпрж╝рж╛ржоржд ржПржмржВ ржЬрзАржмржирзЗ ржПрж░ ржЧржнрзАрж░ ржкрзНрж░ржнрж╛ржм рж╕ржорзНржкрж░рзНржХрзЗ ржЖрж▓рзЛржЪржирж╛ ржХрж░рж╛ рж╣ржпрж╝рзЗржЫрзЗред рж╣рзЗржжрж╛ржпрж╝рзЗржд рж╣рж▓рзЛ рж╕рзЗржЗ ржЖрж▓рзЛ ржпрж╛ ржжрзБржирж┐ржпрж╝рж╛ ржУ ржЖржЦрзЗрж░рж╛рждрзЗ рж╕рзБржЦ ржПржмржВ ржкрзНрж░рж╢рж╛ржирзНрждрж┐рж░ ржкрже ржжрзЗржЦрж╛ржпрж╝ред ржПржЯрж┐ ржПржоржи ржПржХ ржРрж╢рзНржмрж░рж┐ржХ ржЙржкрж╣рж╛рж░ ржпрж╛ ржПржХржЬржи ржмрж┐рж╢рзНржмрж╛рж╕рзАрж░ ржЬрзАржмржиржХрзЗ ржЕрж░рзНржержмрж╣ ржХрж░рзЗ рждрзЛрж▓рзЗ ржПржмржВ рждрж╛ржХрзЗ рж╕ржХрж▓ ржкрж░рж┐рж╕рзНржерж┐рждрж┐рждрзЗ ржзрзИрж░рзНржп ржУ ржХрзГрждржЬрзНржЮрждрж╛рж░ рж╕рж╛ржерзЗ ржЕржмрж┐ржЪрж▓ ржерж╛ржХрждрзЗ рж╕рж╛рж╣рж╛ржпрзНржп ржХрж░рзЗред
                </p>
                <blockquote class="mt-8 text-xl md:text-2xl italic text-stone-600 border-l-4 border-teal-500 pl-6 max-w-3xl mx-auto">
                    "рж╣рзЗржжрж╛ржпрж╝рзЗрждрзЗрж░ ржирзЗржпрж╝рж╛ржоржд ржжрзБржирж┐ржпрж╝рж╛ ржУ ржЖржЦрзЗрж░рж╛рждрзЗрж░ рж╕рзБржЦрзЗрж░ рж░рж╣рж╕рзНржпред ржПрж░ ржЕржзрж┐ржХрж╛рж░рзА ржмрзНржпржХрзНрждрж┐ ржорж╛ржирж╕рж┐ржХ рж╢рж╛ржирзНрждрж┐рждрзЗ ржерж╛ржХрзЗ, рждрж╛рж░ ржЕржирзНрждрж░ ржкрзНрж░рж╢рж╛ржирзНржд ржерж╛ржХрзЗред ржпржЦржи рж╕рзЗ ржХрзЛржирзЛ рж╕рзБржЦржмрж░ ржкрж╛ржпрж╝, рждржЦржи рж╕рзЗ рж╢рзБржХрж░рж┐ржпрж╝рж╛ ржЖржжрж╛ржпрж╝ ржХрж░рзЗ, ржЖрж░ ржпржЦржи ржХрзЛржирзЛ ржмрж┐ржкржжрзЗ ржкржбрж╝рзЗ, рждржЦржи рж╕рзЗ ржзрзИрж░рзНржп ржзрж░рзЗред"
                </blockquote>
            </div>
        </section>

        <!-- Section 2: The Two Paths -->
        <section id="two-paths" class="mb-16">
            <div class="text-center mb-12">
                <h2 class="text-3xl md:text-5xl font-bold text-teal-700 mb-4">рж╕рзНржерж┐рж░ ржПржмржВ ржЕ-рж╕рзНржерж┐рж░ ржпрзБржмржХрзЗрж░ ржоржзрзНржпрзЗ рждрзБрж▓ржирж╛</h2>
                <p class="text-lg md:text-xl max-w-4xl mx-auto leading-relaxed">
                    ржЬрзАржмржи ржжрзБржЯрж┐ ржкржерзЗрж░ ржПржХржЯрж┐ рж╕ржВржпрзЛржЧрж╕рзНржерж▓: ржПржХржЯрж┐ ржЖрж▓рзЛрж░ ржжрж┐ржХрзЗ ржирж┐ржпрж╝рзЗ ржпрж╛ржпрж╝, ржЕржирзНржпржЯрж┐ ржЕржирзНржзржХрж╛рж░рзЗрж░ ржжрж┐ржХрзЗред ржПржЗ ржмрж┐ржнрж╛ржЧрзЗ, ржмржХрзНрждрзГрждрж╛ ржерзЗржХрзЗ ржЕржирзБржкрзНрж░рж╛ржгрж┐ржд рж╣ржпрж╝рзЗ ржПржХржЬржи рж╣рзЗржжрж╛ржпрж╝рзЗрждржкрзНрж░рж╛ржкрзНржд ржпрзБржмржХ ржПржмржВ ржПржХржЬржи ржкржержнрзНрж░рж╖рзНржЯ ржпрзБржмржХрзЗрж░ ржЬрзАржмржирзЗрж░ ржоржзрзНржпрзЗ ржПржХржЯрж┐ рж╕рзБрж╕рзНржкрж╖рзНржЯ рждрзБрж▓ржирж╛ ржХрж░рж╛ рж╣ржпрж╝рзЗржЫрзЗред ржирзАржЪрзЗрж░ ржмрзЛрждрж╛ржоржЧрзБрж▓рж┐ ржмрзНржпржмрж╣рж╛рж░ ржХрж░рзЗ рждрж╛ржжрзЗрж░ ржЪрж░рж┐рждрзНрж░, рж╕ржЩрзНржЧ ржПржмржВ ржкрж░рж┐ржгрждрж┐рж░ ржмрж┐ржнрж┐ржирзНржи ржжрж┐ржХ ржЕржирзНржмрзЗрж╖ржг ржХрж░рзБржи ржПржмржВ ржжрзЗржЦрзБржи ржХрзАржнрж╛ржмрзЗ ржЫрзЛржЯ ржЫрзЛржЯ ржкржЫржирзНржжржЧрзБрж▓рж┐ ржЬрзАржмржирзЗрж░ ржЧрждрж┐ржкржержХрзЗ ржмрзНржпрж╛ржкржХржнрж╛ржмрзЗ ржкрзНрж░ржнрж╛ржмрж┐ржд ржХрж░рзЗред
                </p>
            </div>

            <div class="bg-white p-6 md:p-8 rounded-lg shadow-lg">
                <div id="comparison-buttons" class="flex flex-wrap justify-center gap-2 md:gap-4 mb-8">
                    <button data-topic="character" class="comparison-btn active bg-teal-600 text-white px-4 py-2 rounded-full font-semibold">ржЪрж░рж┐рждрзНрж░ ржУ ржЕржирзНрждрж░</button>
                    <button data-topic="actions" class="comparison-btn bg-stone-200 text-stone-700 px-4 py-2 rounded-full font-semibold">ржХрж░рзНржо ржУ рж╕ржЩрзНржЧ</button>
                    <button data-topic="goal" class="comparison-btn bg-stone-200 text-stone-700 px-4 py-2 rounded-full font-semibold">рж▓ржХрзНрж╖рзНржп ржУ ржЖржжрж░рзНрж╢</button>
                    <button data-topic="end" class="comparison-btn bg-stone-200 text-stone-700 px-4 py-2 rounded-full font-semibold">ржкрж░рж┐ржгрждрж┐</button>
                </div>

                <div class="grid grid-cols-1 md:grid-cols-2 gap-6 md:gap-8">
                    <!-- Righteous Youth Column -->
                    <div class="border-t-4 border-teal-500 bg-teal-50/50 p-6 rounded-lg">
                        <h3 class="text-2xl font-bold mb-4 text-center text-teal-800">тШАя╕П рж╕рзНржерж┐рж░ ржпрзБржмржХ</h3>
                        <div id="righteous-content" class="text-lg space-y-4">
                        </div>
                    </div>
                    <!-- Misguided Youth Column -->
                    <div class="border-t-4 border-red-500 bg-red-50/50 p-6 rounded-lg">
                        <h3 class="text-2xl font-bold mb-4 text-center text-red-800">ЁЯМС ржкржержнрзНрж░рж╖рзНржЯ ржпрзБржмржХ</h3>
                        <div id="misguided-content" class="text-lg space-y-4">
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Story of Deviation is now part of steadfastness section for brevity -->

        <!-- Section 4: Models of Steadfastness -->
        <section id="steadfastness" class="mb-16">
            <div class="text-center mb-12">
                <h2 class="text-3xl md:text-5xl font-bold text-teal-700 mb-4">ржЧрж▓рзНржк ржерзЗржХрзЗ рж╢рж┐ржХрзНрж╖рж╛: рж╕рзНржерж┐рж░рждрж╛ ржУ ржмрж┐ржЪрзНржпрзБрждрж┐</h2>
                 <p class="text-lg md:text-xl max-w-4xl mx-auto leading-relaxed">
                    ржИржорж╛ржирзЗрж░ ржкржерзЗ ржЕржмрж┐ржЪрж▓ ржерж╛ржХрж╛ рж╕рж╛рж╣рж╕рж┐ржХрждрж╛рж░ рж╕рж░рзНржмрзЛржЪрзНржЪ ржирж┐ржжрж░рзНрж╢ржи, ржЖржмрж╛рж░ ржкржержнрзНрж░рж╖рзНржЯрждрж╛ ржерзЗржХрзЗ ржлрж┐рж░рзЗ ржЖрж╕рж╛ржЯрж╛ржУ ржЖрж▓рзНрж▓рж╛рж╣рж░ ржПржХ ржмрж┐рж╢рж╛рж▓ рж░рж╣ржорждред ржПржЗ ржмрж┐ржнрж╛ржЧрзЗ ржЖржорж░рж╛ ржжрзБржЯрж┐ ржнрж┐ржирзНржиржзрж░рзНржорзА ржЧрж▓рзНржк ржжрзЗржЦржм: ржПржХржЯрж┐ ржЪрж░ржо ржкрзНрж░рждрж┐ржХрзВрж▓рждрж╛рж░ ржорж╛ржЭрзЗржУ ржИржорж╛ржирзЗрж░ ржЙржкрж░ ржкрж╛рж╣рж╛ржбрж╝рзЗрж░ ржорждрзЛ ржЕржЯрж▓ ржерж╛ржХрж╛рж░, ржПржмржВ ржЕржирзНржпржЯрж┐ ржкрж╛ржкрзЗрж░ ржЧржнрзАрж░ ржерзЗржХрзЗ ржлрж┐рж░рзЗ ржЖрж╕рж╛рж░ ржорж░рзНржорж╕рзНржкрж░рзНрж╢рзА ржХрж╛рж╣рж┐ржирзАред
                </p>
            </div>

            <div class="grid grid-cols-1 lg:grid-cols-2 gap-8">
                <div class="bg-white p-6 md:p-8 rounded-lg shadow-lg">
                    <h3 class="text-2xl font-bold text-stone-800 mb-4">рж╕рзНржерж┐рж░рждрж╛рж░ ржЖржжрж░рзНрж╢: рж╣рж╛ржмрж┐ржм ржЗржмржирзЗ ржпрж╛ржпрж╝рзЗржж (рж░рж╛ржГ)</h3>
                    <p class="text-lg leading-relaxed">
                        ржнржгрзНржб ржиржмрзА ржорзБрж╕рж╛ржпрж╝рж▓рж┐ржорж╛рж░ рж╕рж╛ржоржирзЗ ржпрзБржмржХ рж╣рж╛ржмрж┐ржм ржЗржмржирзЗ ржпрж╛ржпрж╝рзЗржж (рж░рж╛ржГ)-ржХрзЗ рждрж╛ржБрж░ ржиржмрзБржпрж╝ржд рж╕рзНржмрзАржХрж╛рж░ ржХрж░рждрзЗ ржмрж▓рж╛ рж╣ржпрж╝ред рж╣рж╛ржмрж┐ржм (рж░рж╛ржГ) рж╕рж╛рж╣рж╕рж┐ржХрждрж╛рж░ рж╕рж╛ржерзЗ рждрж╛ ржкрзНрж░рждрзНржпрж╛ржЦрзНржпрж╛ржи ржХрж░рзЗ ржмрж▓рзЗржи, "ржЖржорж┐ рж╕рж╛ржХрзНрж╖рзНржп ржжрж┐ржЪрзНржЫрж┐ ржпрзЗ ржорзБрж╣рж╛ржорзНржоржж ржЖрж▓рзНрж▓рж╛рж╣рж░ рж░рж╛рж╕рзВрж▓ред" ржХрзНрж░рзЛржзрзЗ ржорзБрж╕рж╛ржпрж╝рж▓рж┐ржорж╛ рждрж╛ржБрж░ рж╢рж░рзАрж░ржХрзЗ ржЯрзБржХрж░рзЛ ржЯрзБржХрж░рзЛ ржХрж░рж╛рж░ ржЖржжрзЗрж╢ ржжрзЗржпрж╝ред ржкрзНрж░рждрж┐ржЯрж┐ ржЕржЩрзНржЧ ржХрж╛ржЯрж╛рж░ рж╕ржоржпрж╝ржУ рждрж┐ржирж┐ ржИржорж╛ржирзЗрж░ ржЙржкрж░ ржЕржЯрж▓ ржерзЗржХрзЗ рж╢рж╛рж╣рж╛ржжрж╛ржд ржмрж░ржг ржХрж░рзЗржиред рждрж╛ржБрж░ ржПржЗ рждрзНржпрж╛ржЧ ржИржорж╛ржирзЗрж░ ржкржерзЗ рж╕рзНржерж┐рж░рждрж╛рж░ ржПржХ ржЬрзНржмрж▓ржирзНржд ржЙржжрж╛рж╣рж░ржгред
                    </p>
                </div>
                <div class="bg-white p-6 md:p-8 rounded-lg shadow-lg">
                    <h3 class="text-2xl font-bold text-stone-800 mb-4">ржмрж┐ржЪрзНржпрзБрждрж┐ ржерзЗржХрзЗ ржкрзНрж░рждрзНржпрж╛ржмрж░рзНрждржи: ржПржХ ржпрзБржмржХрзЗрж░ ржЧрж▓рзНржк</h3>
                    <p class="text-lg leading-relaxed">
                        ржПржХ ржпрзБржмржХ ржЦрж╛рж░рж╛ржк рж╕ржЩрзНржЧ, ржорж╛ржжржХ ржПржмржВ ржкрж╛ржкрзЗ ржбрзБржмрзЗ ржЧрж┐ржпрж╝рзЗржЫрж┐рж▓ред ржЬрзАржмржи ржпржЦржи ржкрзНрж░рж╛ржпрж╝ рж╢рзЗрж╖, ржорзГрждрзНржпрзБрж░ ржнржпрж╝рзЗ рж╕рзЗ ржЖрж▓рзНрж▓рж╛рж╣рж░ ржХрж╛ржЫрзЗ ржлрж┐рж░рзЗ ржЖрж╕рзЗред ржмрж╣рзБ ржмржЫрж░ ржкрж░ ржирж╛ржорж╛ржЬрзЗ ржжрж╛ржБржбрж╝рж╛ржпрж╝ред ржЖрж▓рзНрж▓рж╛рж╣ рждрж╛ржХрзЗ ржПржХржЯрж┐ ржирждрзБржи рж╕рзБржпрзЛржЧ ржжрзЗржи ржПржмржВ рж╕рзЗ ржзрзАрж░рзЗ ржзрзАрж░рзЗ ржирж┐ржЬрзЗржХрзЗ ржкрж░рж┐ржмрж░рзНрждржи ржХрж░рзЗред ржПржХржЬржи ╪╡╪з┘Д╪н ржпрзБржмржХрзЗрж░ рж╕ржВрж╕рзНржкрж░рзНрж╢рзЗ ржПрж╕рзЗ рж╕рзЗ ржкрзБрж░рзЛржкрзБрж░рж┐ рждржУржмрж╛ ржХрж░рзЗ ржПржмржВ рж╣рзЗржжрж╛ржпрж╝рзЗрждрзЗрж░ ржЖрж▓рзЛ ржЦрзБржБржЬрзЗ ржкрж╛ржпрж╝ред ржПржЗ ржЧрж▓рзНржк рж╢рзЗржЦрж╛ржпрж╝ ржпрзЗ, ржЖрж▓рзНрж▓рж╛рж╣рж░ рж░рж╣ржорждрзЗрж░ ржжрж░ржЬрж╛ рж╕рж░рзНржмржжрж╛ ржЦрзЛрж▓рж╛ред
                    </p>
                </div>
            </div>
        </section>
        
        <!-- Section 5: Your Personal Path (Gemini API) -->
        <section id="personal-path" class="mb-16">
            <div class="text-center mb-12">
                <h2 class="text-3xl md:text-5xl font-bold text-teal-700 mb-4">ржЖржкржирж╛рж░ ржмрзНржпржХрзНрждрж┐ржЧржд ржкрже тЬи</h2>
                <p class="text-lg md:text-xl max-w-4xl mx-auto leading-relaxed">
                    ржПржЗ ржмржХрзНрждрзГрждрж╛рж░ рж╢рж┐ржХрзНрж╖рж╛ржЧрзБрж▓рж┐ ржЖржкржирж╛рж░ ржЬрзАржмржирзЗ ржкрзНрж░ржпрж╝рзЛржЧ ржХрж░рзБржиред ржирзАржЪрзЗрж░ рж╕рж░ржЮрзНржЬрж╛ржоржЧрзБрж▓рж┐ ржмрзНржпржмрж╣рж╛рж░ ржХрж░рзЗ ржЖржкржирж╛рж░ ржмрзНржпржХрзНрждрж┐ржЧржд ржЕржирзБржнрзВрждрж┐ ржмрж╛ ржжрзНржмрж┐ржзрж╛ ржерзЗржХрзЗ ржЖржзрзНржпрж╛рждрзНржорж┐ржХ ржирж┐рж░рзНржжрзЗрж╢ржирж╛ ржПржмржВ рж╕рж╛ржирзНрждрзНржмржирж╛ ржЦрзБржБржЬрзБржиред ржЖржкржирж╛рж░ ржЗржиржкрзБржЯрзЗрж░ ржЙржкрж░ ржнрж┐рждрзНрждрж┐ ржХрж░рзЗ Gemini AI ржЖржкржирж╛рж░ ржЬржирзНржп ржмрзНржпржХрзНрждрж┐ржЧрждржХрзГржд ржкрзНрж░рждрж┐ржХрзНрж░рж┐ржпрж╝рж╛ рждрзИрж░рж┐ ржХрж░ржмрзЗред
                </p>
            </div>
            <div class="grid grid-cols-1 lg:grid-cols-2 gap-8">
                <!-- Dua & Reflection Generator -->
                <div class="bg-white p-6 md:p-8 rounded-lg shadow-lg">
                    <h3 class="text-2xl font-bold text-stone-800 mb-4">ржмрзНржпржХрзНрждрж┐ржЧржд ржжрзЛржпрж╝рж╛ ржУ ржкрзНрж░рждрж┐ржлрж▓ржи</h3>
                    <p class="mb-4">ржЖржкржирж╛рж░ ржоржирзЗрж░ ржмрж░рзНрждржорж╛ржи ржЕржмрж╕рзНржерж╛, ржХрзЛржирзЛ рж╕ржВржЧрзНрж░рж╛ржо ржмрж╛ ржЕржирзБржнрзВрждрж┐рж░ ржХржерж╛ рж▓рж┐ржЦрзБржиред ржЖржорж░рж╛ ржПрж░ ржЙржкрж░ ржнрж┐рждрзНрждрж┐ ржХрж░рзЗ ржПржХржЯрж┐ ржкрзНрж░рждрж┐ржлрж▓ржиржорзВрж▓ржХ ржмрж╛рж░рзНрждрж╛ ржПржмржВ ржжрзЛржпрж╝рж╛ рждрзИрж░рж┐ ржХрж░рждрзЗ рж╕рж╛рж╣рж╛ржпрзНржп ржХрж░ржмред</p>
                    <textarea id="dua-input" class="w-full p-3 border border-stone-300 rounded-lg focus:ring-2 focus:ring-teal-500 focus:outline-none" rows="4" placeholder="ржпрзЗржоржи: ржЖржорж┐ ржЦрзБржм ржПржХрж╛ржХрзА ржмрзЛржз ржХрж░ржЫрж┐ ржПржмржВ ржнржмрж┐рж╖рзНржпрзО ржирж┐ржпрж╝рзЗ ржЪрж┐ржирзНрждрж┐ржд..."></textarea>
                    <button id="generate-dua" class="mt-4 w-full bg-teal-600 text-white font-bold py-3 px-4 rounded-lg hover:bg-teal-700 transition-colors flex items-center justify-center">
                        тЬи ржжрзЛржпрж╝рж╛ рждрзИрж░рж┐ ржХрж░рзБржи
                    </button>
                    <div id="dua-output" class="gemini-output hidden"></div>
                     <div id="dua-loader" class="hidden text-center mt-4"><div class="loader mx-auto"></div></div>
                </div>
                <!-- Dilemma & Guidance -->
                <div class="bg-white p-6 md:p-8 rounded-lg shadow-lg">
                    <h3 class="text-2xl font-bold text-stone-800 mb-4">ржжрзНржмрж┐ржзрж╛ ржУ ржирж┐рж░рзНржжрзЗрж╢ржирж╛</h3>
                    <p class="mb-4">ржЖржкржирж┐ ржХрж┐ ржХрзЛржирзЛ рж╕рж┐ржжрзНржзрж╛ржирзНрждрж╣рзАржирждрж╛ржпрж╝ ржнрзБржЧржЫрзЗржи? ржЖржкржирж╛рж░ ржкрж░рж┐рж╕рзНржерж┐рждрж┐ ржмрж░рзНржгржирж╛ ржХрж░рзБржи, ржПржмржВ ржЗрж╕рж▓рж╛ржорж┐ржХ ржирзАрждрж┐рж░ ржЖрж▓рзЛржХрзЗ ржирж┐рж░рзНржжрзЗрж╢ржирж╛ рж╕ржирзНржзрж╛ржи ржХрж░рзБржиред</p>
                    <textarea id="guidance-input" class="w-full p-3 border border-stone-300 rounded-lg focus:ring-2 focus:ring-teal-500 focus:outline-none" rows="4" placeholder="ржпрзЗржоржи: ржЖржорж╛рж░ ржмржирзНржзрзБрж░рж╛ ржЖржорж╛ржХрзЗ ржПржХржЯрж┐ ржЕржирзНржпрж╛ржпрж╝ ржХрж╛ржЬрзЗ ржпрзЛржЧ ржжрж┐рждрзЗ ржмрж▓ржЫрзЗ, ржЖржорж╛рж░ ржХрзА ржХрж░рж╛ ржЙржЪрж┐ржд?"></textarea>
                    <button id="generate-guidance" class="mt-4 w-full bg-teal-600 text-white font-bold py-3 px-4 rounded-lg hover:bg-teal-700 transition-colors flex items-center justify-center">
                        тЬи ржирж┐рж░рзНржжрзЗрж╢ржирж╛ рж╕ржирзНржзрж╛ржи ржХрж░рзБржи
                    </button>
                    <div id="guidance-output" class="gemini-output hidden"></div>
                    <div id="guidance-loader" class="hidden text-center mt-4"><div class="loader mx-auto"></div></div>
                </div>
            </div>
        </section>

        <!-- Section 6: The Path of Return -->
        <section id="return-path">
             <div class="text-center mb-12">
                <h2 class="text-3xl md:text-5xl font-bold text-teal-700 mb-4">ржлрж┐рж░рзЗ ржЖрж╕рж╛рж░ ржкрже: рж╣рзЗржжрж╛ржпрж╝рзЗрждрзЗрж░ ржХрж╛рж░ржг ржЕржмрж▓ржорзНржмржи</h2>
                 <p class="text-lg md:text-xl max-w-4xl mx-auto leading-relaxed">
                    ржмрж┐ржЪрзНржпрзБрждрж┐ ржерзЗржХрзЗ ржлрж┐рж░рзЗ ржЖрж╕рж╛рж░ ржкрже рж╕рж░рзНржмржжрж╛ ржЦрзЛрж▓рж╛ ржерж╛ржХрзЗ рждрж╛ржжрзЗрж░ ржЬржирзНржп, ржпрж╛рж░рж╛ ржЖржирзНрждрж░рж┐ржХржнрж╛ржмрзЗ ржкрзНрж░рждрзНржпрж╛ржмрж░рзНрждржи ржХрж░рждрзЗ ржЪрж╛ржпрж╝ред ржПржЗ ржЪрзВржбрж╝рж╛ржирзНржд ржмрж┐ржнрж╛ржЧрзЗ, рж╢рж╛ржпрж╝ржЦ рж╣рзЗржжрж╛ржпрж╝рзЗржд рж▓рж╛ржнрзЗрж░ ржЬржирзНржп ржХрж┐ржЫрзБ ржмрж╛рж╕рзНрждржм ржПржмржВ ржХрж╛рж░рзНржпржХрж░рзА ржкржжржХрзНрж╖рзЗржкрзЗрж░ ржХржерж╛ ржмрж▓рзЗржЫрзЗржиред ржПржЯрж┐ ржПржХржЯрж┐ рж░рзЛржбржорзНржпрж╛ржк ржпрж╛ ржЖржкржирж╛ржХрзЗ ржЖрж▓рзНрж▓рж╛рж╣рж░ ржирзИржХржЯрзНржп рж▓рж╛ржнрзЗ ржПржмржВ ржПржХржЯрж┐ ржЕрж░рзНржержмрж╣ ржЬрзАржмржи ржЧржаржирзЗ рж╕рж╣рж╛ржпрж╝рждрж╛ ржХрж░ржмрзЗред
                </p>
            </div>
            <div class="bg-white p-6 md:p-8 rounded-lg shadow-lg max-w-4xl mx-auto">
                <h3 class="text-2xl font-bold text-stone-800 mb-6 text-center">ржХрзАржнрж╛ржмрзЗ рж╢рзБрж░рзБ ржХрж░ржмрзЗржи?</h3>
                <ol class="space-y-4 text-lg">
                    <li class="flex items-start">
                        <span class="bg-teal-600 text-white rounded-full h-8 w-8 text-center leading-8 font-bold mr-4 flex-shrink-0">рзз</span>
                        <span><strong class="text-teal-700">ржкрж╛ржк рждрзНржпрж╛ржЧ ржХрж░рж╛:</strong> рж╣рзЗржжрж╛ржпрж╝рзЗрждрзЗрж░ ржкржерзЗ ржкрзНрж░ржержо ржкржжржХрзНрж╖рзЗржк рж╣рж▓рзЛ рж╕ржорж╕рзНржд ржкрж╛ржк ржУ ржЕржирзНржпрж╛ржпрж╝ ржХрж╛ржЬржХрзЗ ржЖржирзНрждрж░рж┐ржХржнрж╛ржмрзЗ рждрзНржпрж╛ржЧ ржХрж░рж╛рж░ рж╕рж┐ржжрзНржзрж╛ржирзНржд ржирзЗржУржпрж╝рж╛ред</span>
                    </li>
                    <li class="flex items-start">
                        <span class="bg-teal-600 text-white rounded-full h-8 w-8 text-center leading-8 font-bold mr-4 flex-shrink-0">рзи</span>
                        <span><strong class="text-teal-700">ржЦрж╛ржБржЯрж┐ рждржУржмрж╛:</strong> ржЕржирзБрж╢рзЛржЪржирж╛, ржкрзНрж░рждрзНржпрж╛ржмрж░рзНрждржи ржПржмржВ ржЖрж▓рзНрж▓рж╛рж╣рж░ ржХрж╛ржЫрзЗ ржХрзНрж╖ржорж╛ ржкрзНрж░рж╛рж░рзНржержирж╛рж░ ржорж╛ржзрзНржпржорзЗ ржЦрж╛ржБржЯрж┐ рждржУржмрж╛ ржХрж░рж╛ред ржнржмрж┐рж╖рзНржпрждрзЗ рж╕рзЗржЗ ржкрж╛ржкрзЗ ржлрж┐рж░рзЗ ржирж╛ ржпрж╛ржУржпрж╝рж╛рж░ ржЬржирзНржп ржжрзГржврж╝ ржкрзНрж░рждрж┐ржЬрзНржЮ рж╣ржУржпрж╝рж╛ред</span>
                    </li>
                    <li class="flex items-start">
                        <span class="bg-teal-600 text-white rounded-full h-8 w-8 text-center leading-8 font-bold mr-4 flex-shrink-0">рзй</span>
                        <span><strong class="text-teal-700">ржирж╛ржорж╛ржЬ ржкрзНрж░рждрж┐рж╖рзНржарж╛:</strong> ржкрж╛ржБржЪ ржУржпрж╝рж╛ржХрзНржд ржирж╛ржорж╛ржЬрзЗрж░ ржкрзНрж░рждрж┐ ржпрждрзНржиржмрж╛ржи рж╣ржУржпрж╝рж╛, ржХрж╛рж░ржг ржирж╛ржорж╛ржЬ рж╣рж▓рзЛ ржЕрж╢рзНрж▓рзАрж▓рждрж╛ ржУ ржЕржирзНржпрж╛ржпрж╝ ржХрж╛ржЬ ржерзЗржХрзЗ ржмрж┐рж░ржд рж░рж╛ржЦрж╛рж░ рж╕ржмржЪрзЗржпрж╝рзЗ ржмржбрж╝ ржорж╛ржзрзНржпржоред</span>
                    </li>
                    <li class="flex items-start">
                        <span class="bg-teal-600 text-white rounded-full h-8 w-8 text-center leading-8 font-bold mr-4 flex-shrink-0">рзк</span>
                        <span><strong class="text-teal-700">рж╕рзО рж╕ржЩрзНржЧ ржЧрзНрж░рж╣ржг:</strong> ржЦрж╛рж░рж╛ржк рж╕ржЩрзНржЧ рждрзНржпрж╛ржЧ ржХрж░рзЗ ╪╡╪з┘Д╪н (ржзрж╛рж░рзНржорж┐ржХ) ржмрзНржпржХрзНрждрж┐ржжрзЗрж░ рж╕рж╛ржерзЗ рж╕ржорзНржкрж░рзНржХ рж╕рзНржерж╛ржкржи ржХрж░рж╛, ржХрж╛рж░ржг "ржорж╛ржирзБрж╖ рждрж╛рж░ ржмржирзНржзрзБрж░ ржзрж░рзНржорзЗрж░ ржЙржкрж░ ржерж╛ржХрзЗ"ред</span>
                    </li>
                     <li class="flex items-start">
                        <span class="bg-teal-600 text-white rounded-full h-8 w-8 text-center leading-8 font-bold mr-4 flex-shrink-0">рзл</span>
                        <span><strong class="text-teal-700">ржЖрж▓рзНрж▓рж╛рж╣рж░ ржХрж╛ржЫрзЗ ржжрзЛржпрж╝рж╛:</strong> ржкрзНрж░рждрж┐ржирж┐ржпрж╝ржд ржЖрж▓рзНрж▓рж╛рж╣рж░ ржХрж╛ржЫрзЗ рж╣рзЗржжрж╛ржпрж╝рзЗрждрзЗрж░ ржЬржирзНржп ржжрзЛржпрж╝рж╛ ржХрж░рж╛, ржмрж┐рж╢рзЗрж╖ ржХрж░рзЗ рж╕рзВрж░рж╛ ржлрж╛рждрж┐рж╣рж╛ржпрж╝ ржЖржорж░рж╛ ржпрж╛ ржмрж▓рж┐: "ржЖржорж╛ржжрзЗрж░ржХрзЗ рж╕рж░рж▓ ржкрже ржжрзЗржЦрж╛ржУ"ред</span>
                    </li>
                </ol>
            </div>
        </section>

    </main>
    
    <!-- Footer -->
    <footer class="bg-stone-800 text-white mt-16">
        <div class="container mx-auto px-4 py-8 text-center">
            <p class="text-lg mb-4">"╪г╪│╪г┘Д ╪з┘Д┘Д┘З ╪з┘Д╪╣╪╕┘К┘Е ╪▒╪и ╪з┘Д╪╣╪▒╪┤ ╪з┘Д┘Г╪▒┘К┘Е ╪г┘Ж ┘К╪м╪╣┘Д┘Ж╪з ┘З╪п╪з╪й ┘Е┘З╪к╪п┘К┘Ж╪М ┘Д╪з ╪╢╪з┘Д┘К┘Ж ┘И┘Д╪з ┘Е╪╢┘Д┘К┘Ж."</p>
            <p>"ржЖржорж┐ ржорж╣рж╛ржи ржЖрж░рж╢рзЗрж░ рж░ржм, ржорж╣рж╛ржи ржЖрж▓рзНрж▓рж╛рж╣рж░ ржХрж╛ржЫрзЗ ржкрзНрж░рж╛рж░рзНржержирж╛ ржХрж░рж┐, рждрж┐ржирж┐ ржпрзЗржи ржЖржорж╛ржжрзЗрж░ржХрзЗ рж╣рзЗржжрж╛ржпрж╝рзЗрждржкрзНрж░рж╛ржкрзНржд ржУ рж╣рзЗржжрж╛ржпрж╝рзЗрждржХрж╛рж░рзА рж╣рж┐рж╕рзЗржмрзЗ ржХржмрзБрж▓ ржХрж░рзЗржи, ржкржержнрзНрж░рж╖рзНржЯ ржмрж╛ ржкржержнрзНрж░рж╖рзНржЯржХрж╛рж░рзА рж╣рж┐рж╕рзЗржмрзЗ ржиржпрж╝ред"</p>
            <p class="mt-4 text-stone-400 text-sm">рж╢рзЗржЦ ржЦрж╛рж▓рж┐ржж ржЖрж▓-рж░рж╛рж╢рзЗржжрзЗрж░ ржмржХрзНрждрзГрждрж╛ ржЕржмрж▓ржорзНржмржирзЗ ржирж┐рж░рзНржорж┐рждред</p>
        </div>
    </footer>
    
    <button id="to-top-button" class="hidden fixed bottom-8 right-8 bg-teal-600 text-white p-3 rounded-full shadow-lg hover:bg-teal-700 focus:outline-none transition-opacity duration-300">
        <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 15l7-7 7 7"></path></svg>
    </button>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            
            const comparisonData = {
                character: {
                    righteous: "ржкржмрж┐рждрзНрж░ рж╣рзГржжржпрж╝рзЗрж░, ржкрж░рж┐рж╖рзНржХрж╛рж░ ржоржирзЗрж░ ржЕржзрж┐ржХрж╛рж░рзАред рждрж╛рж░ ржЪрзЗрж╣рж╛рж░рж╛ ржирзВрж░рзЗ ржЙржЬрзНржЬрзНржмрж▓ ржерж╛ржХрзЗ ржПржмржВ ржЖрж▓рзНрж▓рж╛рж╣рж░ ржжрзЗржУржпрж╝рж╛ ржирзВрж░рж╛ржирзНржмрж┐ржд ржжрж╛ржбрж╝рж┐ рждрж╛рж░ рж╕рзМржирзНржжрж░рзНржп ржмрзГржжрзНржзрж┐ ржХрж░рзЗред",
                    misguided: "ржЦржмрж┐рж╕ ржЖрждрзНржорж╛рж░, рж╕ржВржХрзАрж░рзНржг ржоржирзЗрж░, ржЕржирзНржзржХрж╛рж░ ржЪрзЗрж╣рж╛рж░рж╛рж░ред рж╕рзЗ рж╕рж░рзНржмржжрж╛ ржХрж▓рзНржкрж┐ржд рж╕рзБржЦрзЗрж░ ржкрж┐ржЫржирзЗ ржЫрзБржЯрзЗ ржмрзЗржбрж╝рж╛ржпрж╝ ржХрж┐ржирзНрждрзБ рждрж╛ ржкрж╛ржпрж╝ ржирж╛ред"
                },
                actions: {
                    righteous: "ржорж╕ржЬрж┐ржжрзЗ ржПржмржВ ржЖрж▓рзЗржоржжрзЗрж░ рж╕рж╛ржирзНржирж┐ржзрзНржпрзЗ рж╕ржоржпрж╝ ржХрж╛ржЯрж╛ржпрж╝ред ржЙржкржХрж╛рж░рзА ржЬрзНржЮрж╛ржи ржЕрж░рзНржЬржи ржХрж░рзЗ ржПржмржВ рж╕ржорж╛ржЬрзЗрж░ ржЬржирзНржп ржЙрзОржкрж╛ржжржирж╢рзАрж▓ ржХрж╛ржЬ ржХрж░рзЗред рждрж╛рж░ ржорзБржЦрзЗ ржерж╛ржХрзЗ ржЙрждрзНрждржо ржХржерж╛ ржУ ржжрзЛржпрж╝рж╛ред",
                    misguided: "рж╢ржкрж┐ржВ ржорж▓, ржмрж╛ржЬрж╛рж░ ржПржмржВ ржзрзНржмржВрж╕рж╛рждрзНржоржХ рж╕рзНржерж╛ржирзЗ рж╕ржоржпрж╝ ржирж╖рзНржЯ ржХрж░рзЗред рждрж╛рж░ ржЬрж┐рж╣рзНржмрж╛ рж╕рж░рзНржмржжрж╛ ржЕржнрж┐рж╢рж╛ржк ржУ ржЧрж╛рж▓рж┐ржЧрж╛рж▓рж╛ржЬрзЗ ржмрзНржпрж╕рзНржд ржерж╛ржХрзЗред рж╕рзЗ рж╕ржорж╛ржЬрзЗрж░ ржЬржирзНржп ржзрзНржмржВрж╕рзЗрж░ ржХрж╛рж░ржг рж╣ржпрж╝ред"
                },
                goal: {
                    righteous: "рждрж╛рж░ ржЖржжрж░рзНрж╢ рж╣рж▓рзЗржи ржиржмрзА (рж╕рж╛ржГ), рж╕рж╛рж╣рж╛ржмрж╛ржЧржг ржПржмржВ ржорж╣рж╛ржи ржмрж┐ржЬржпрж╝рзАржЧржгред рж╕рзЗ ржЙржорзНржорж╛рж╣рж░ ржЪрж┐ржирзНрждрж╛ ржХрж░рзЗ ржПржмржВ ржорж╣рзО ржмрж┐рж╖ржпрж╝ ржирж┐ржпрж╝рзЗ ржнрж╛ржмрзЗред",
                    misguided: "рждрж╛рж░ ржЖржжрж░рзНрж╢ рж╣рж▓рзЛ ржЦрзЗрж▓рзЛржпрж╝рж╛ржбрж╝, ржЧрж╛ржпрж╝ржХ ржмрж╛ ржХрж╛ржлрзЗрж░рж░рж╛ред рждрж╛рж░ ржЪрж┐ржирзНрждрж╛ ржХрзЗржмрж▓ ржирж┐ржЬрзЗрж░ ржкрзЗржЯ ржУ ржХрж╛ржоржирж╛-ржмрж╛рж╕ржирж╛ ржирж┐ржпрж╝рзЗред"
                },
                end: {
                    righteous: "рж╕рзЗ ржПржХржЯрж┐ рж╕ржорзНржорж╛ржирж┐ржд ржорзГрждрзНржпрзБ рж▓рж╛ржн ржХрж░рзЗ, рждрж╛рж░ ржЬрж┐рж╣рзНржмрж╛ржпрж╝ ржерж╛ржХрзЗ рж╢рж╛рж╣рж╛ржжрж╛ржд ржмрж╛ржгрзАред ржЖрж▓рзНрж▓рж╛рж╣ рждрж╛ржХрзЗ рж╢рж╣рзАржжржжрзЗрж░ ржорж░рзНржпрж╛ржжрж╛ ржжрж╛ржи ржХрж░рждрзЗ ржкрж╛рж░рзЗржи, ржпржжрж┐ржУ рж╕рзЗ ржмрж┐ржЫрж╛ржирж╛ржпрж╝ ржорж╛рж░рж╛ ржпрж╛ржпрж╝ред",
                    misguided: "рж╕рзЗ ржПржХржЯрж┐ ржирж┐ржХрзГрж╖рзНржЯ ржорзГрждрзНржпрзБ рж▓рж╛ржн ржХрж░рзЗред рждрж╛рж░ рж░рзБрж╣ржХрзЗ ржХрж╖рзНржЯ ржжрж┐ржпрж╝рзЗ ржмрзЗрж░ ржХрж░рж╛ рж╣ржпрж╝ред рж╕рзЗ рж╢рж╛рж╣рж╛ржжрж╛ржд ржмрж╛ржгрзА ржЙржЪрзНржЪрж╛рж░ржг ржХрж░рждрзЗ ржкрж╛рж░рзЗ ржирж╛ ржПржмржВ рждрж╛рж░ рж╕ржЩрзНржЧрзАрж░рж╛ржУ рждрж╛ржХрзЗ ржнрж╛рж▓рзЛ ржирж╛ржорзЗ рж╕рзНржорж░ржг ржХрж░рзЗ ржирж╛ред"
                }
            };
            
            const righteousContent = document.getElementById('righteous-content');
            const misguidedContent = document.getElementById('misguided-content');
            const comparisonButtons = document.querySelectorAll('.comparison-btn');

            function updateContent(topic) {
                righteousContent.innerHTML = `<p>${comparisonData[topic].righteous}</p>`;
                misguidedContent.innerHTML = `<p>${comparisonData[topic].misguided}</p>`;
            }

            comparisonButtons.forEach(button => {
                button.addEventListener('click', () => {
                    comparisonButtons.forEach(btn => {
                        btn.classList.remove('active', 'bg-teal-600', 'text-white');
                        btn.classList.add('bg-stone-200', 'text-stone-700');
                    });
                    button.classList.add('active', 'bg-teal-600', 'text-white');
                    button.classList.remove('bg-stone-200', 'text-stone-700');
                    updateContent(button.dataset.topic);
                });
            });

            updateContent('character');

            const mobileMenuButton = document.getElementById('mobile-menu-button');
            const mobileMenu = document.getElementById('mobile-menu');
            const mobileNavLinks = mobileMenu.querySelectorAll('a');

            mobileMenuButton.addEventListener('click', () => { mobileMenu.classList.toggle('hidden'); });
            mobileNavLinks.forEach(link => { link.addEventListener('click', () => { mobileMenu.classList.add('hidden'); }); });
            
            const toTopButton = document.getElementById('to-top-button');
            window.addEventListener('scroll', () => {
                if (window.scrollY > 300) toTopButton.classList.remove('hidden');
                else toTopButton.classList.add('hidden');
            });

            toTopButton.addEventListener('click', () => { window.scrollTo({ top: 0, behavior: 'smooth' }); });

            const navLinks = document.querySelectorAll('.nav-link');
            const sections = document.querySelectorAll('main section');

            window.addEventListener('scroll', () => {
                let current = '';
                sections.forEach(section => {
                    const sectionTop = section.offsetTop;
                    if (scrollY >= sectionTop - 100) {
                        current = section.getAttribute('id');
                    }
                });

                navLinks.forEach(link => {
                    link.classList.remove('active-nav');
                    if (link.getAttribute('href').includes(current)) {
                        link.classList.add('active-nav');
                    }
                });
            });

            // Gemini API functionality
            const generateDuaBtn = document.getElementById('generate-dua');
            const duaInput = document.getElementById('dua-input');
            const duaOutput = document.getElementById('dua-output');
            const duaLoader = document.getElementById('dua-loader');

            const generateGuidanceBtn = document.getElementById('generate-guidance');
            const guidanceInput = document.getElementById('guidance-input');
            const guidanceOutput = document.getElementById('guidance-output');
            const guidanceLoader = document.getElementById('guidance-loader');

            const callGemini = async (prompt, outputElement, loaderElement) => {
                if (!prompt.trim()) {
                    outputElement.textContent = "ржЕржирзБржЧрзНрж░рж╣ ржХрж░рзЗ ржЖржкржирж╛рж░ ржЕржирзБржнрзВрждрж┐ ржмрж╛ ржкрзНрж░рж╢рзНржи рж▓рж┐ржЦрзБржиред";
                    outputElement.classList.remove('hidden');
                    return;
                }
                
                loaderElement.classList.remove('hidden');
                outputElement.classList.add('hidden');
                outputElement.textContent = '';

                const apiKey = "AIzaSyBdOPNV9QsLtaDuiIAkfB3yBHvwyeAoHb4"; // API key is handled by the environment
                const apiUrl = `https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash:generateContent?key=${apiKey}`;
                
                let chatHistory = [{ role: "user", parts: [{ text: prompt }] }];
                const payload = { contents: chatHistory };

                try {
                    const response = await fetch(apiUrl, {
                        method: 'POST',
                        headers: { 'Content-Type': 'application/json' },
                        body: JSON.stringify(payload)
                    });

                    if (!response.ok) {
                        throw new Error(`API Error: ${response.statusText}`);
                    }

                    const result = await response.json();
                    
                    if (result.candidates && result.candidates.length > 0 &&
                        result.candidates[0].content && result.candidates[0].content.parts &&
                        result.candidates[0].content.parts.length > 0) {
                        const text = result.candidates[0].content.parts[0].text;
                        outputElement.textContent = text;
                    } else {
                        outputElement.textContent = 'ржжрзБржГржЦрж┐ржд, ржПржХржЯрж┐ ржЕржкрзНрж░рждрзНржпрж╛рж╢рж┐ржд ржкрзНрж░рждрж┐ржХрзНрж░рж┐ржпрж╝рж╛ ржПрж╕рзЗржЫрзЗред ржЕржирзБржЧрзНрж░рж╣ ржХрж░рзЗ ржЖржмрж╛рж░ ржЪрзЗрж╖рзНржЯрж╛ ржХрж░рзБржиред';
                    }
                } catch (error) {
                    console.error("Gemini API call failed:", error);
                    outputElement.textContent = 'ржжрзБржГржЦрж┐ржд, ржПржХржЯрж┐ рж╕ржорж╕рзНржпрж╛ рж╣ржпрж╝рзЗржЫрзЗред ржЕржирзБржЧрзНрж░рж╣ ржХрж░рзЗ ржХрж┐ржЫрзБржХрзНрж╖ржг ржкрж░ ржЖржмрж╛рж░ ржЪрзЗрж╖рзНржЯрж╛ ржХрж░рзБржиред';
                } finally {
                    loaderElement.classList.add('hidden');
                    outputElement.classList.remove('hidden');
                }
            };

            generateDuaBtn.addEventListener('click', () => {
                const userInput = duaInput.value;
                const prompt = `You are a compassionate and wise Islamic guide. A person is feeling the following: "${userInput}". Based on the core principles of Islam focusing on hope, repentance, and seeking Allah's help and mercy, please write a short, comforting reflection and a personal dua in Bengali. The tone must be gentle, empathetic, and encouraging. Structure the response with a "ржкрзНрж░рждрж┐ржлрж▓ржи:" heading and a "ржжрзЛржпрж╝рж╛:" heading.`;
                callGemini(prompt, duaOutput, duaLoader);
            });

            generateGuidanceBtn.addEventListener('click', () => {
                const userInput = guidanceInput.value;
                const prompt = `You are a wise and practical Islamic advisor. A person is facing the following dilemma: "${userInput}". Based on the core teachings found in Sheikh Khalid Al-Rashed's sermons (which emphasize choosing good companions, fearing Allah, remembering death, patience, and staying steadfast on the right path), provide practical, actionable, and encouraging advice in clear Bengali. The advice should be rooted in Islamic principles but easy for a young person to understand and apply.`;
                callGemini(prompt, guidanceOutput, guidanceLoader);
            });
        });
    </script>
</body>
</html>
