<!DOCTYPE html>
<html lang="bn" class="scroll-smooth">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ржЧрж╛ржлрж▓рж╛ржд (ржЙржжрж╛рж╕рзАржирждрж╛): ржПржХржЯрж┐ ржЗржирзНржЯрж╛рж░рзЗржХрзНржЯрж┐ржн ржмрж┐рж╢рзНрж▓рзЗрж╖ржг</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Hind+Siliguri:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <!-- Chosen Palette: Warm Neutrals (Stone, Amber, Gray) -->
    <!-- Application Structure Plan: The application is a single-page thematic dashboard. It breaks down the sermon into logical sections for non-linear exploration. New Gemini-powered sections for a 'Personal Action Plan' and 'Dua Generation' have been added. This transforms the app from a passive information tool into an active, personalized spiritual guide, allowing users to apply the sermon's teachings directly to their lives. -->
    <!-- Visualization & Content Choices: 
        1. Report Info: Contrasting stories of death. Goal: Compare. Viz: Interactive content switcher. Interaction: Buttons. Justification: Powerful narrative comparison. Library: Vanilla JS.
        2. Report Info: List of remedies. Goal: Inform/Organize. Viz: Grid of cards. Interaction: Hover. Justification: Visually appealing & digestible. Library: HTML/Tailwind.
        3. Report Info: Abstract spiritual states. Goal: Compare/Visualize. Viz: Bar Chart. Interaction: Buttons. Justification: Makes abstract concepts concrete. Library: Chart.js.
        4. Report Info: User's personal struggles. Goal: Personalize/Advise. Viz: AI-generated text block. Interaction: Text input and generate button. Justification: Provides actionable, personalized guidance based on the sermon's core message. Library: Gemini API.
        5. Report Info: User's specific needs. Goal: Assist/Personalize. Viz: AI-generated text block. Interaction: Text input and generate button. Justification: Offers immediate spiritual support by generating relevant supplications. Library: Gemini API.
    -->
    <!-- CONFIRMATION: NO SVG graphics used. NO Mermaid JS used. -->
    <style>
        body {
            font-family: 'Hind Siliguri', sans-serif;
            background-color: #fafaf9; /* stone-50 */
            color: #292524; /* stone-800 */
        }
        .active-nav {
            color: #d97706; /* amber-600 */
            font-weight: 600;
        }
        .chart-container {
            position: relative;
            width: 100%;
            max-width: 600px;
            margin-left: auto;
            margin-right: auto;
            height: 300px;
            max-height: 400px;
        }
        @media (min-width: 768px) {
            .chart-container {
                height: 350px;
            }
        }
        .loader {
            width: 48px;
            height: 48px;
            border: 5px solid #FFF;
            border-bottom-color: #d97706;
            border-radius: 50%;
            display: inline-block;
            box-sizing: border-box;
            animation: rotation 1s linear infinite;
        }
        @keyframes rotation {
            0% {
                transform: rotate(0deg);
            }
            100% {
                transform: rotate(360deg);
            }
        }
    </style>
</head>
<body class="antialiased">

    <header class="bg-stone-100 sticky top-0 z-50 shadow-md">
        <nav class="container mx-auto px-4 sm:px-6 lg:px-8 py-3 flex justify-between items-center">
            <h1 class="text-xl md:text-2xl font-bold text-amber-700">ржЧрж╛ржлрж▓рж╛ржд</h1>
            <div class="hidden md:flex space-x-6 text-stone-600 font-medium">
                <a href="#intro" class="hover:text-amber-600 transition duration-300">ржнрзВржорж┐ржХрж╛</a>
                <a href="#disease" class="hover:text-amber-600 transition duration-300">рж░рзЛржЧрзЗрж░ ржкрж░рж┐ржЪрзЯ</a>
                <a href="#state" class="hover:text-amber-600 transition duration-300">ржЙржжрж╛рж╕рзАржиржжрзЗрж░ ржЕржмрж╕рзНржерж╛</a>
                <a href="#death" class="hover:text-amber-600 transition duration-300">ржорзГрждрзНржпрзБрж░ ржорзБрж╣рзВрж░рзНржд</a>
                <a href="#salvation" class="hover:text-amber-600 transition duration-300">ржорзБржХрзНрждрж┐рж░ ржкрже</a>
                <a href="#action-plan" class="hover:text-amber-600 transition duration-300">ржХрж░рзНржо ржкрж░рж┐ржХрж▓рзНржкржирж╛ тЬи</a>
                <a href="#end" class="hover:text-amber-600 transition duration-300">рж╢рзЗрж╖ ржкрж░рж┐ржгрждрж┐</a>
            </div>
             <div class="md:hidden">
                <select id="mobile-nav" class="bg-stone-200 border border-stone-300 rounded-md p-2 text-stone-700">
                    <option value="#intro">ржнрзВржорж┐ржХрж╛</option>
                    <option value="#disease">рж░рзЛржЧрзЗрж░ ржкрж░рж┐ржЪрзЯ</option>
                    <option value="#state">ржЙржжрж╛рж╕рзАржиржжрзЗрж░ ржЕржмрж╕рзНржерж╛</option>
                    <option value="#death">ржорзГрждрзНржпрзБрж░ ржорзБрж╣рзВрж░рзНржд</option>
                    <option value="#salvation">ржорзБржХрзНрждрж┐рж░ ржкрже</option>
                    <option value="#action-plan">ржХрж░рзНржо ржкрж░рж┐ржХрж▓рзНржкржирж╛ тЬи</option>
                    <option value="#end">рж╢рзЗрж╖ ржкрж░рж┐ржгрждрж┐</option>
                </select>
            </div>
        </nav>
    </header>

    <main class="container mx-auto px-4 sm:px-6 lg:px-8 py-8 md:py-12">

        <section id="intro" class="text-center min-h-[60vh] flex flex-col justify-center items-center">
            <h2 class="text-3xl md:text-5xl font-extrabold text-stone-800 mb-4">ржЙржжрж╛рж╕рзАржирждрж╛: ржПржХржЯрж┐ ржорж╛рж░рж╛рждрзНржоржХ рж╣рзГржжрзЯрзЗрж░ рж░рзЛржЧ</h2>
            <p class="max-w-3xl mx-auto text-lg md:text-xl text-stone-600 mb-8">
                "ржорж╛ржирзБрж╖рзЗрж░ рж╣рж┐рж╕рж╛ржм-ржирж┐ржХрж╛рж╢рзЗрж░ рж╕ржоржпрж╝ ржШржирж┐ржпрж╝рзЗ ржПрж╕рзЗржЫрзЗ, ржЕржержЪ рждрж╛рж░рж╛ ржЙржжрж╛рж╕рзАржирждрж╛ржпрж╝ ржорзБржЦ ржлрж┐рж░рж┐ржпрж╝рзЗ ржЖржЫрзЗред рждрж╛ржжрзЗрж░ ржХрж╛ржЫрзЗ рждрж╛ржжрзЗрж░ рж░ржмрзЗрж░ ржкржХрзНрж╖ ржерзЗржХрзЗ ржпржЦржиржЗ ржХрзЛржирзЛ ржирждрзБржи ржЙржкржжрзЗрж╢ ржЖрж╕рзЗ, рждрж╛рж░рж╛ рждрж╛ рж╢рзЛржирзЗ ржЦрзЗрж▓рж╛рж░ ржЫрж▓рзЗред"
            </p>
            <a href="#disease" class="bg-amber-600 text-white font-bold py-3 px-8 rounded-full hover:bg-amber-700 transition duration-300 text-lg shadow-lg">
                рж╕рждрж░рзНржХржмрж╛ржгрзА ржЕржирзНржмрзЗрж╖ржг ржХрж░рзБржи
            </a>
        </section>

        <section id="disease" class="py-16 md:py-24">
            <div class="text-center mb-12">
                <h3 class="text-3xl md:text-4xl font-bold text-stone-800">рж░рзЛржЧрзЗрж░ ржкрж░рж┐ржЪрзЯ</h3>
                <p class="text-lg text-stone-600 mt-2 max-w-2xl mx-auto">ржЙржжрж╛рж╕рзАржирждрж╛ ржмрж╛ 'ржЧрж╛ржлрж▓рж╛ржд' ржПржХржЯрж┐ ржЖржзрзНржпрж╛рждрзНржорж┐ржХ ржмрзНржпрж╛ржзрж┐, ржпрж╛ рж╢рж╛рж░рзАрж░рж┐ржХ ржЕрж╕рзБрж╕рзНржерждрж╛рж░ ржЪрзЗржпрж╝рзЗржУ ржнржпрж╝ржВржХрж░ред ржПржЗ ржмрж┐ржнрж╛ржЧрзЗ ржЖржорж░рж╛ ржПржЗ ржжрзБржЯрж┐ рж░рзЛржЧрзЗрж░ ржоржзрзНржпрзЗржХрж╛рж░ ржкрж╛рж░рзНржержХрзНржп ржПржмржВ ржЧрж╛ржлрж▓рж╛рждрзЗрж░ ржкрзНрж░ржХрзГржд ржмрж┐ржкржж рж╕ржорзНржкрж░рзНржХрзЗ ржЬрж╛ржиржмред</p>
            </div>
            <div class="grid md:grid-cols-2 gap-8 items-center">
                <div class="bg-white p-6 rounded-lg shadow-lg border border-stone-200">
                    <h4 class="text-2xl font-semibold text-red-600 mb-3 text-center">рж╢рж╛рж░рзАрж░рж┐ржХ рж░рзЛржЧ</h4>
                    <ul class="space-y-2 text-stone-700 list-disc list-inside">
                        <li>ржПрж░ ржЪрж┐ржХрж┐рзОрж╕рж╛ ржУ ржкрзНрж░рждрж┐ржХрж╛рж░ рж╕рзНржкрж╖рзНржЯред</li>
                        <li>ржорж╛ржирзБрж╖ ржПрж░ ржерзЗржХрзЗ ржЖрж░рзЛржЧрзНржп рж▓рж╛ржнрзЗрж░ ржЬржирзНржп рж╕ржЪрзЗрж╖рзНржЯ рж╣рзЯред</li>
                        <li>ржПрж░ ржХрж╖рзНржЯ рж╕рж╛ржзрж╛рж░ржгржд ржжрзБржирж┐ржпрж╝рж╛рждрзЗржЗ рж╕рзАржорж╛ржмржжрзНржз ржерж╛ржХрзЗред</li>
                    </ul>
                </div>
                <div class="bg-white p-6 rounded-lg shadow-xl border-2 border-amber-500">
                    <h4 class="text-2xl font-semibold text-amber-700 mb-3 text-center">рж╣рзГржжрзЯрзЗрж░ рж░рзЛржЧ (ржЧрж╛ржлрж▓рж╛ржд)</h4>
                    <ul class="space-y-2 text-stone-700 list-disc list-inside">
                        <li>ржПржЯрж┐ ржкрзНрж░рж╛ржпрж╝рж╢ржЗ ржЕрж▓ржХрзНрж╖рж┐ржд ржерж╛ржХрзЗ, ржорзГрждрзНржпрзБрж░ рж╕ржоржпрж╝ ржкрзНрж░ржХрж╛рж╢ ржкрж╛ржпрж╝ред</li>
                        <li>ржПржЯрж┐ ржжрзНржмрзАржи, ржжрзБржирж┐ржпрж╝рж╛ ржУ ржЖржЦрзЗрж░рж╛рждтАФрж╕ржмржХрж┐ржЫрзБ ржзрзНржмржВрж╕ ржХрж░рзЗред</li>
                        <li>ржорж╛ржирзБрж╖ржХрзЗ рж╣рзЗржжрж╛ржпрж╝рзЗржд ржерзЗржХрзЗ ржжрзВрж░рзЗ рж░рж╛ржЦрзЗ ржПржмржВ ржЪрж┐рж░рж╕рзНржерж╛ржпрж╝рзА ржХрзНрж╖рждрж┐рж░ ржжрж┐ржХрзЗ ржарзЗрж▓рзЗ ржжрзЗржпрж╝ред</li>
                    </ul>
                </div>
            </div>
        </section>

        <section id="state" class="py-16 md:py-24 bg-stone-100 rounded-2xl">
            <div class="text-center mb-12">
                <h3 class="text-3xl md:text-4xl font-bold text-stone-800">ржЙржжрж╛рж╕рзАржиржжрзЗрж░ ржЕржмрж╕рзНржерж╛</h3>
                <p class="text-lg text-stone-600 mt-2 max-w-2xl mx-auto">ржЙржжрж╛рж╕рзАржирждрж╛ ржорж╛ржирзБрж╖рзЗрж░ ржЖржЪрж░ржгрзЗ ржирж╛ржирж╛ржнрж╛ржмрзЗ ржкрзНрж░ржХрж╛рж╢ ржкрж╛ржпрж╝ред ржПржЗ ржмрж┐ржнрж╛ржЧрзЗ ржЖржорж░рж╛ ржПрж░ ржХрж┐ржЫрзБ ржкрзНрж░ржзрж╛ржи рж▓ржХрзНрж╖ржг ржПржмржВ ржПржХржЯрж┐ ржмрж╛рж╕рзНрждржм ржЙржжрж╛рж╣рж░ржг ржжрзЗржЦржм, ржпрж╛ ржЖржорж╛ржжрзЗрж░ ржирж┐ржЬрзЗржжрзЗрж░ ржЕржмрж╕рзНржерж╛ ржпрж╛ржЪрж╛ржЗ ржХрж░рждрзЗ рж╕рж╛рж╣рж╛ржпрзНржп ржХрж░ржмрзЗред</p>
            </div>
            
            <div class="max-w-4xl mx-auto">
                 <div class="mb-4 border-b border-stone-300">
                    <nav class="flex space-x-4" aria-label="Tabs">
                        <button id="tab-prayer" class="tab-button active-tab text-lg font-semibold py-3 px-4 text-amber-600 border-b-2 border-amber-600">рж╕рж╛рж▓рж╛ржд рждрзНржпрж╛ржЧ</button>
                        <button id="tab-dunya" class="tab-button text-lg font-semibold py-3 px-4 text-stone-500 hover:text-amber-600">ржжрзБржирж┐ржпрж╝рж╛рж░ ржорзЛрж╣</button>
                        <button id="tab-hope" class="tab-button text-lg font-semibold py-3 px-4 text-stone-500 hover:text-amber-600">ржжрзАрж░рзНржШ ржЖрж╢рж╛</button>
                    </nav>
                </div>
                <div id="content-prayer" class="tab-content p-4 bg-white rounded-lg shadow">
                    <h4 class="text-2xl font-bold mb-3 text-amber-800">рж╕рж╛рж▓рж╛ржд рждрзНржпрж╛ржЧ ржХрж░рж╛: ржЙржжрж╛рж╕рзАржирждрж╛рж░ ржЪрзВрзЬрж╛ржирзНржд ржкрж░рзНржпрж╛рзЯ</h4>
                    <p class="mb-4">ржЙржжрж╛рж╕рзАржирждрж╛рж░ рж╕ржмржЪрзЗржпрж╝рзЗ ржмржбрж╝ рж▓ржХрзНрж╖ржг рж╣рж▓рзЛ рж╕рж╛рж▓рж╛рждрзЗрж░ ржкрзНрж░рждрж┐ ржЕржоржирзЛржпрзЛржЧрж┐рждрж╛ред ржЕржирзЗржХрзЗ рж╕рж╛рж▓рж╛ржд ржЖржжрж╛ржпрж╝ржЗ ржХрж░рзЗ ржирж╛, ржХрзЗржЙ ржжрж┐ржирзЗ ржПржХржмрж╛рж░ ржмрж╛ ржжрзБржЗржмрж╛рж░, ржЖржмрж╛рж░ ржХрзЗржЙ рж╢рзБржзрзБ ржЬрзБржо'ржЖрж░ ржжрж┐ржи рж╕рж╛рж▓рж╛ржд ржЖржжрж╛ржпрж╝ ржХрж░рзЗред ржЕржержЪ рж╕рж╛рж▓рж╛рждржЗ рж╣рж▓рзЛ ржмрж░ржХрждрзЗрж░ ржЪрж╛ржмрж┐ржХрж╛ржарж┐ ржПржмржВ ржЖрж▓рзНрж▓рж╛рж╣рж░ рж╕рж╛ржерзЗ ржмрж╛ржирзНржжрж╛рж░ рж╕ржорзНржкрж░рзНржХрзЗрж░ ржорзВрж▓ ржнрж┐рждрзНрждрж┐ред</p>
                    <div class="bg-amber-50 border-l-4 border-amber-500 text-amber-800 p-4 rounded-r-lg">
                        <p class="font-semibold">ржПржХржЯрж┐ ржмрж╛рж╕рзНрждржм ржШржЯржирж╛:</p>
                        <p class="mt-1">ржПржХржжрж▓ ржпрзБржмржХ ржЪрж╛ржХрж░рж┐рж░ ржЦрзЛржБржЬрзЗ ржпрж╛ржЪрзНржЫрж┐рж▓ред рждрж╛ржжрзЗрж░ рж╕рж╛рж▓рж╛ржд рж╕ржорзНржкрж░рзНржХрзЗ ржЬрж┐ржЬрзНржЮрж╛рж╕рж╛ ржХрж░рж╛ рж╣рж▓рзЗ ржПржХржЬржи ржмрж▓рж▓ рж╕рзЗ рж╕рж╛рж▓рж╛ржд ржкрзЬрзЗржЗ ржирж╛, ржЖрж░рзЗржХржЬржи ржжрж┐ржирзЗ ржжрзБржЗржмрж╛рж░, ржПржмржВ рждрзГрждрзАржпрж╝ржЬржи рж╢рзБржзрзБ ржЬрзБржо'ржЖ ржерзЗржХрзЗ ржЬрзБржо'ржЖред ржПржЯрж┐ржЗ рж╕ржорж╛ржЬрзЗрж░ ржЧрж╛ржлрж▓рж╛рждрж┐рж░ ржПржХржЯрж┐ ржмрж╛рж╕рзНрждржм ржЪрж┐рждрзНрж░ред</p>
                    </div>
                </div>
                <div id="content-dunya" class="tab-content hidden p-4 bg-white rounded-lg shadow">
                    <h4 class="text-2xl font-bold mb-3 text-amber-800">ржжрзБржирж┐ржпрж╝рж╛рж░ ржорзЛрж╣рзЗ ржЖржЪрзНржЫржирзНржи</h4>
                    <p>ржЙржжрж╛рж╕рзАржирждрж╛рж░ ржорзВрж▓ ржХрж╛рж░ржг рж╣рж▓рзЛ ржжрзБржирж┐ржпрж╝рж╛рж░ ржкрзНрж░рждрж┐ ржнрж╛рж▓рзЛржмрж╛рж╕рж╛ ржПржмржВ ржПрж░ ржнрзЛржЧ-ржмрж┐рж▓рж╛рж╕рзЗ ржоржЧрзНржи ржерж╛ржХрж╛ред ржЖрж▓рзНрж▓рж╛рж╣ ржмрж▓рзЗржи, "рж╣рзЗ ржорзБ'ржорж┐ржиржЧржг! рждрзЛржорж╛ржжрзЗрж░ ржзржи-рж╕ржорзНржкржж ржУ рж╕ржирзНрждрж╛ржи-рж╕ржирзНрждрждрж┐ ржпрзЗржи рждрзЛржорж╛ржжрзЗрж░ржХрзЗ ржЖрж▓рзНрж▓рж╛рж╣рж░ рж╕рзНржорж░ржг ржерзЗржХрзЗ ржЙржжрж╛рж╕рзАржи ржирж╛ ржХрж░рзЗред" ржорж╛ржирзБрж╖ ржжрзБржирж┐ржпрж╝рж╛ ржЕрж░рзНржЬржирзЗрж░ ржЬржирзНржп ржпрждржЯрж╛ рж╕ржЪрзЗрж╖рзНржЯ, ржЖрж▓рзНрж▓рж╛рж╣рж░ ржЖржжрзЗрж╢ ржкрж╛рж▓ржирзЗ рждрждржЯрж╛ржЗ ржЙржжрж╛рж╕рзАржиред ржлржЬрж░рзЗрж░ ржЖржпрж╛ржирзЗрж░ рж╕ржоржпрж╝ рж░рж╛рж╕рзНрждрж╛ржШрж╛ржЯ ржЦрж╛рж▓рж┐ ржерж╛ржХрж▓рзЗржУ, ржХрж░рзНржоржЬрзАржмржирзЗрж░ ржбрж╛ржХрзЗ рж╕рж╛рзЬрж╛ ржжрж┐рзЯрзЗ рж░рж╛рж╕рзНрждрж╛ржЧрзБрж▓рзЛ ржЬржирж╛ржХрзАрж░рзНржг рж╣ржпрж╝рзЗ ржУржарзЗред</p>
                </div>
                <div id="content-hope" class="tab-content hidden p-4 bg-white rounded-lg shadow">
                    <h4 class="text-2xl font-bold mb-3 text-amber-800">ржжрзАрж░рзНржШ ржЖрж╢рж╛рж░ ржкрзНрж░рждрж╛рж░ржгрж╛</h4>
                    <p>ржорж╛ржирзБрж╖ржХрзЗ ржЖржЦрзЗрж░рж╛рждрзЗрж░ ржкрзНрж░рж╕рзНрждрзБрждрж┐ ржерзЗржХрзЗ ржпрж╛ ржмрж┐рж░ржд рж░рж╛ржЦрзЗ рждрж╛ рж╣рж▓рзЛ ржжрзАрж░рзНржШ ржЖрж╢рж╛ред рж╕рзЗ ржнрж╛ржмрзЗ, "ржПржЦржирзЛ ржЕржирзЗржХ рж╕ржоржпрж╝ ржЖржЫрзЗ, ржкрж░рзЗ рждржУржмрж╛ ржХрж░рзЗ ржирзЗржмред" ржХрж┐ржирзНрждрзБ ржорзГрждрзНржпрзБ рж╣ржарж╛рзО ржХрж░рзЗржЗ ржЖрж╕рзЗред ржЖрж▓рзНрж▓рж╛рж╣ ржмрж▓рзЗржи, "рждрж╛ржжрзЗрж░ ржЫрзЗржбрж╝рзЗ ржжрж┐ржи, рждрж╛рж░рж╛ ржЦрж╛ржХ, ржнрзЛржЧ ржХрж░рзБржХ ржПржмржВ ржЖрж╢рж╛ рждрж╛ржжрзЗрж░ ржнрзБрж▓рж┐ржпрж╝рзЗ рж░рж╛ржЦрзБржХ, ржЕржЪрж┐рж░рзЗржЗ рждрж╛рж░рж╛ ржЬрж╛ржирждрзЗ ржкрж╛рж░ржмрзЗред" ржжрзАрж░рзНржШ ржЖрж╢рж╛ ржорж╛ржирзБрж╖ржХрзЗ ржоржирзНржж ржХрж╛ржЬрзЗ рж▓рж┐ржкрзНржд рж░рж╛ржЦрзЗ ржПржмржВ ржнрж╛рж▓рзЛ ржХрж╛ржЬ ржерзЗржХрзЗ ржмрж┐рж░ржд рж░рж╛ржЦрзЗред</p>
                </div>
            </div>

            <div class="mt-12">
                <div class="text-center mb-8">
                     <h4 class="text-2xl font-bold text-stone-800">рж╣рзГржжрзЯрзЗрж░ ржЕржмрж╕рзНржерж╛рж░ рждрзБрж▓ржирж╛ржорзВрж▓ржХ ржЪрж┐рждрзНрж░</h4>
                     <p class="text-md text-stone-600">ржмрж╛ржЯржи ржХрзНрж▓рж┐ржХ ржХрж░рзЗ рж╣рзГржжрзЯрзЗрж░ ржжрзБржЯрж┐ ржнрж┐ржирзНржи ржЕржмрж╕рзНржерж╛рж░ ржПржХржЯрж┐ ржзрж╛рж░ржгрж╛ржЧржд ржЪрж┐рждрзНрж░ ржжрзЗржЦрзБржиред</p>
                </div>
                <div class="chart-container">
                    <canvas id="heartStateChart"></canvas>
                </div>
                <div class="flex justify-center mt-4 space-x-4">
                    <button id="btnHeedless" class="bg-red-600 text-white font-semibold py-2 px-5 rounded-lg hover:bg-red-700 transition">ржЙржжрж╛рж╕рзАржи ржЕржмрж╕рзНржерж╛</button>
                    <button id="btnAware" class="bg-green-600 text-white font-semibold py-2 px-5 rounded-lg hover:bg-green-700 transition">рж╕ржЪрзЗрждржи ржЕржмрж╕рзНржерж╛</button>
                </div>
            </div>
        </section>

        <section id="death" class="py-16 md:py-24">
            <div class="text-center mb-12">
                <h3 class="text-3xl md:text-4xl font-bold text-stone-800">ржорзГрждрзНржпрзБрж░ ржорзБрж╣рзВрж░рзНржд: рж╢рзЗрж╖ ржкрж░рж┐ржгрждрж┐</h3>
                <p class="text-lg text-stone-600 mt-2 max-w-2xl mx-auto">ржорзГрждрзНржпрзБрж░ рж╕ржоржпрж╝ ржорж╛ржирзБрж╖рзЗрж░ рж╕рж╛рж░рж╛ ржЬрзАржмржирзЗрж░ ржЖржорж▓ ржкрзНрж░ржХрж╛рж╢ ржкрж╛ржпрж╝ред ржПржЗ ржмрж┐ржнрж╛ржЧрзЗ ржЖржорж░рж╛ ржжрзБржЯрж┐ ржмрж╛рж╕рзНрждржм ржПржмржВ ржмрж┐ржкрж░рзАрждржорзБржЦрзА ржШржЯржирж╛рж░ ржорж╛ржзрзНржпржорзЗ ржжрзЗржЦржм ржХрзАржнрж╛ржмрзЗ ржЙржжрж╛рж╕рзАржирждрж╛ ржУ рж╕ржЪрзЗрждржирждрж╛ ржорж╛ржирзБрж╖рзЗрж░ рж╢рзЗрж╖ ржорзБрж╣рзВрж░рзНрждржХрзЗ ржкрзНрж░ржнрж╛ржмрж┐ржд ржХрж░рзЗред</p>
            </div>
            <div class="max-w-5xl mx-auto bg-white rounded-2xl shadow-xl p-6 md:p-8 border">
                <div class="flex flex-col md:flex-row justify-center items-center gap-4 mb-8">
                    <button id="btn-outcome-bad" class="outcome-button active-outcome w-full md:w-auto bg-amber-600 text-white font-bold py-3 px-6 rounded-lg transition duration-300">ржЙржжрж╛рж╕рзАржиржжрзЗрж░ ржкрж░рж┐ржгрждрж┐</button>
                    <button id="btn-outcome-good" class="outcome-button w-full md:w-auto bg-stone-200 text-stone-700 font-bold py-3 px-6 rounded-lg transition duration-300">ржкрзБржгрзНржпржмрж╛ржиржжрзЗрж░ ржкрж░рж┐ржгрждрж┐</button>
                </div>
                <div id="outcome-content">
                </div>
            </div>
        </section>

        <section id="salvation" class="py-16 md:py-24 bg-stone-100 rounded-2xl">
            <div class="text-center mb-12">
                <h3 class="text-3xl md:text-4xl font-bold text-stone-800">ржорзБржХрзНрждрж┐рж░ ржкрже</h3>
                <p class="text-lg text-stone-600 mt-2 max-w-2xl mx-auto">рж╣рзГржжржпрж╝рзЗрж░ рж░рзЛржЧ 'ржЧрж╛ржлрж▓рж╛ржд' ржерзЗржХрзЗ ржорзБржХрзНрждрж┐рж░ ржЬржирзНржп ржирж┐рж░рзНржжрж┐рж╖рзНржЯ ржХрж┐ржЫрзБ ржЖржорж▓ рж░ржпрж╝рзЗржЫрзЗред ржПржЦрж╛ржирзЗ ржЗржмржирзБрж▓ ржХрж╛ржЗржпрж╝рзНржпрж┐ржо (рж░рж╣.) ржмрж░рзНржгрж┐ржд ржкрж╛ржБржЪржЯрж┐ ржХрж╛рж░рзНржпржХрж░ ржкрзНрж░рждрж┐ржХрж╛рж░ рждрзБрж▓рзЗ ржзрж░рж╛ рж╣рж▓рзЛред</p>
            </div>
            <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8">
                <div class="bg-white p-6 rounded-lg shadow-lg text-center transform hover:-translate-y-2 transition-transform duration-300">
                    <div class="text-4xl text-amber-600 mb-3">ЁЯУЦ</div>
                    <h4 class="text-xl font-semibold mb-2">ржХрзБрж░ржЖржи рждрж┐рж▓рж╛ржУржпрж╝рж╛ржд</h4>
                    <p class="text-stone-600">ржЧржнрзАрж░ ржЪрж┐ржирзНрждрж╛ ржУ ржЕрж░рзНрже ржмрзБржЭрзЗ ржХрзБрж░ржЖржи ржкрж╛ржа ржХрж░рж╛ред</p>
                </div>
                <div class="bg-white p-6 rounded-lg shadow-lg text-center transform hover:-translate-y-2 transition-transform duration-300">
                    <div class="text-4xl text-amber-600 mb-3">ЁЯМЩ</div>
                    <h4 class="text-xl font-semibold mb-2">рждрж╛рж╣рж╛ржЬрзНржЬрзБржжрзЗрж░ рж╕рж╛рж▓рж╛ржд</h4>
                    <p class="text-stone-600">рж░рж╛рждрзЗрж░ рж╢рзЗрж╖ржнрж╛ржЧрзЗ ржЖрж▓рзНрж▓рж╛рж╣рж░ рж╕рж╛ржоржирзЗ ржжржгрзНржбрж╛ржпрж╝ржорж╛ржи рж╣ржУржпрж╝рж╛ред</p>
                </div>
                <div class="bg-white p-6 rounded-lg shadow-lg text-center transform hover:-translate-y-2 transition-transform duration-300">
                    <div class="text-4xl text-amber-600 mb-3">ЁЯд▓</div>
                    <h4 class="text-xl font-semibold mb-2">рж╕рж╛рж╣рж░рзАрж░ рж╕ржоржпрж╝ ржд╪╢╪▒╪╣</h4>
                    <p class="text-stone-600">ржнрзЛрж░рзЗрж░ ржЖржЧрзЗ ржЖрж▓рзНрж▓рж╛рж╣рж░ ржХрж╛ржЫрзЗ ржХрж╛ржирзНржирж╛ржХрж╛ржЯрж┐ ржУ ржжрзБ'ржЖ ржХрж░рж╛ред</p>
                </div>
                 <div class="bg-white p-6 rounded-lg shadow-lg text-center transform hover:-translate-y-2 transition-transform duration-300">
                    <div class="text-4xl text-amber-600 mb-3">ЁЯН╜я╕П</div>
                    <h4 class="text-xl font-semibold mb-2">ржЕрж▓рзНржк ржЖрж╣рж╛рж░</h4>
                    <p class="text-stone-600">ржЕрждрж┐рж░рж┐ржХрзНржд ржЦрж╛ржУржпрж╝рж╛-ржжрж╛ржУржпрж╝рж╛ ржерзЗржХрзЗ ржмрж┐рж░ржд ржерж╛ржХрж╛, ржпрж╛ ржЕржирзНрждрж░ржХрзЗ ржХржарж┐ржи ржХрж░рзЗред</p>
                </div>
                <div class="bg-white p-6 rounded-lg shadow-lg text-center transform hover:-translate-y-2 transition-transform duration-300">
                    <div class="text-4xl text-amber-600 mb-3">ЁЯдЭ</div>
                    <h4 class="text-xl font-semibold mb-2">рж╕рзОрж╕ржЩрзНржЧ</h4>
                    <p class="text-stone-600">ржкрзБржгрзНржпржмрж╛ржи ржУ ржЖрж▓рзНрж▓рж╛рж╣ржнрзАрж░рзБ ржорж╛ржирзБрж╖ржжрзЗрж░ рж╕рж╛ржерзЗ рж╕ржорзНржкрж░рзНржХ рж░рж╛ржЦрж╛ред</p>
                </div>
                <div class="bg-white p-6 rounded-lg shadow-lg text-center transform hover:-translate-y-2 transition-transform duration-300">
                    <div class="text-4xl text-amber-600 mb-3">тП▒я╕П</div>
                    <h4 class="text-xl font-semibold mb-2">ржорзГрждрзНржпрзБрж░ рж╕рзНржорж░ржг</h4>
                    <p class="text-stone-600">ржирж┐ржпрж╝ржорж┐ржд ржорзГрждрзНржпрзБ ржУ ржкрж░ржХрж╛рж▓рзЗрж░ ржХржерж╛ рж╕рзНржорж░ржг ржХрж░рж╛ред</p>
                </div>
            </div>
        </section>

        <section id="action-plan" class="py-16 md:py-24">
            <div class="text-center mb-12">
                <h3 class="text-3xl md:text-4xl font-bold text-stone-800">ржЖржкржирж╛рж░ ржмрзНржпржХрзНрждрж┐ржЧржд ржХрж░рзНржо ржкрж░рж┐ржХрж▓рзНржкржирж╛ рждрзИрж░рж┐ ржХрж░рзБржи тЬи</h3>
                <p class="text-lg text-stone-600 mt-2 max-w-3xl mx-auto">ржЖржкржирж┐ ржХрж┐ ржЧрж╛ржлрж▓рж╛ржд ржерзЗржХрзЗ ржмрзЗрж░рж┐ржпрж╝рзЗ ржЖрж╕рждрзЗ ржЪрж╛ржи ржХрж┐ржирзНрждрзБ ржХрзЛржерж╛ ржерзЗржХрзЗ рж╢рзБрж░рзБ ржХрж░ржмрзЗржи ржмрзБржЭрждрзЗ ржкрж╛рж░ржЫрзЗржи ржирж╛? ржЖржкржирж╛рж░ ржмрж░рзНрждржорж╛ржи ржЖржзрзНржпрж╛рждрзНржорж┐ржХ ржЕржмрж╕рзНржерж╛, рж╕ржВржЧрзНрж░рж╛ржо ржмрж╛ ржжрзБрж░рзНржмрж▓рждрж╛рж░ ржХржерж╛ ржирж┐ржЪрзЗ рж▓рж┐ржЦрзБржиред Gemini API ржПржЗ ржмржХрзНрждрзГрждрж╛рж░ ржЖрж▓рзЛржХрзЗ ржЖржкржирж╛рж░ ржЬржирзНржп ржПржХржЯрж┐ ржмрж╛рж╕рзНрждржмрж╕ржорзНржоржд ржУ ржХрж╛рж░рзНржпржХрж░ ржХрж░рзНржо ржкрж░рж┐ржХрж▓рзНржкржирж╛ рждрзИрж░рж┐ ржХрж░рзЗ ржжрзЗржмрзЗред</p>
            </div>
            <div class="max-w-3xl mx-auto bg-white rounded-xl shadow-lg p-8">
                <textarea id="plan-input" class="w-full p-3 border border-stone-300 rounded-lg text-lg focus:ring-2 focus:ring-amber-500 focus:border-amber-500 transition" rows="4" placeholder="ржпрзЗржоржи: 'ржЖржорж┐ ржлржЬрж░рзЗрж░ рж╕рж╛рж▓рж╛рждрзЗрж░ ржЬржирзНржп ржШрзБржо ржерзЗржХрзЗ ржЙржарждрзЗ ржкрж╛рж░рж┐ ржирж╛' ржЕржержмрж╛ 'ржжрзБржирж┐ржпрж╝рж╛ржмрзА ржмрж┐рж╖ржпрж╝рзЗ ржЖржорж╛рж░ ржоржи ржЦрзБржм ржмрзЗрж╢рж┐ ржмрзНржпрж╕рзНржд ржерж╛ржХрзЗ'"></textarea>
                <button id="generate-plan-btn" class="w-full bg-amber-600 text-white font-bold py-3 px-8 rounded-lg hover:bg-amber-700 transition duration-300 text-lg shadow-lg mt-4">
                    ржкрж░рж┐ржХрж▓рзНржкржирж╛ рждрзИрж░рж┐ ржХрж░рзБржи
                </button>
                <div id="plan-output" class="mt-6 p-4 border border-stone-200 rounded-lg bg-stone-50 min-h-[100px]">
                    <p class="text-stone-500">ржЖржкржирж╛рж░ ржкрж░рж┐ржХрж▓рзНржкржирж╛ ржПржЦрж╛ржирзЗ ржкрзНрж░ржжрж░рзНрж╢рж┐ржд рж╣ржмрзЗ...</p>
                </div>
            </div>
        </section>

        <section id="end" class="py-16 md:py-24 bg-stone-100 rounded-2xl">
             <div class="text-center mb-12">
                <h3 class="text-3xl md:text-4xl font-bold text-stone-800">рж╢рзЗрж╖ ржкрж░рж┐ржгрждрж┐: ржЕржиржирзНржд ржЬрзАржмржи</h3>
                <p class="text-lg text-stone-600 mt-2 max-w-2xl mx-auto">ржХрж┐ржпрж╝рж╛ржорждрзЗрж░ ржжрж┐ржи ржорзГрждрзНржпрзБржХрзЗ ржЬржмрж╛ржЗ ржХрж░рзЗ ржжрзЗржУржпрж╝рж╛ рж╣ржмрзЗ ржПржмржВ ржЬрж╛ржирзНржирж╛ржд ржУ ржЬрж╛рж╣рж╛ржирзНржирж╛ржорзЗрж░ ржЬрзАржмржи ржЪрж┐рж░рж╕рзНржерж╛ржпрж╝рзА рж╣ржпрж╝рзЗ ржпрж╛ржмрзЗред рждржЦржи ржЖрж░ ржХрзЛржирзЛ ржжрзНржмрж┐рждрзАржпрж╝ рж╕рзБржпрзЛржЧ ржерж╛ржХржмрзЗ ржирж╛ред</p>
            </div>
            <div class="max-w-4xl mx-auto bg-white rounded-lg shadow-lg p-8">
                <p class="text-center text-xl font-medium text-stone-700 italic">
                    "ржЖрж░ рждрж╛ржжрзЗрж░ржХрзЗ ржкрж░рж┐рждрж╛ржкрзЗрж░ ржжрж┐ржи рж╕ржорзНржкрж░рзНржХрзЗ рж╕рждрж░рзНржХ ржХрж░рзБржи, ржпржЦржи рж╕ржмржХрж┐ржЫрзБрж░ ржлржпрж╝рж╕рж╛рж▓рж╛ рж╣ржпрж╝рзЗ ржпрж╛ржмрзЗ, ржЕржержЪ рждрж╛рж░рж╛ ржЙржжрж╛рж╕рзАржирждрж╛ржпрж╝ рж░ржпрж╝рзЗржЫрзЗ ржПржмржВ рждрж╛рж░рж╛ ржИржорж╛ржи ржЖржирзЗ ржирж╛ред"
                </p>
                <div class="mt-8 grid md:grid-cols-2 gap-8">
                    <div>
                        <h4 class="text-2xl font-bold text-green-700 mb-3">ржЬрж╛ржирзНржирж╛рждржмрж╛рж╕рзАржжрзЗрж░ ржЬржирзНржп:</h4>
                        <p class="text-stone-600">"рж╣рзЗ ржЬрж╛ржирзНржирж╛рждржмрж╛рж╕рзА, ржЪрж┐рж░ржХрж╛рж▓ ржерж╛ржХрзЛ, ржЖрж░ ржХрзЛржирзЛ ржорзГрждрзНржпрзБ ржирзЗржЗред" рждрж╛ржжрзЗрж░ ржЬржирзНржп ржерж╛ржХржмрзЗ ржЕржиржирзНржд рж╕рзБржЦ, рж╕рзНржмрж╛рж╕рзНржерзНржп ржПржмржВ ржпрзМржмржиред</p>
                    </div>
                     <div>
                        <h4 class="text-2xl font-bold text-red-700 mb-3">ржЬрж╛рж╣рж╛ржирзНржирж╛ржоржмрж╛рж╕рзАржжрзЗрж░ ржЬржирзНржп:</h4>
                        <p class="text-stone-600">"рж╣рзЗ ржЬрж╛рж╣рж╛ржирзНржирж╛ржоржмрж╛рж╕рзА, ржЪрж┐рж░ржХрж╛рж▓ ржерж╛ржХрзЛ, ржЖрж░ ржХрзЛржирзЛ ржорзГрждрзНржпрзБ ржирзЗржЗред" рждрж╛рж░рж╛ ржлрж┐рж░рзЗ ржЖрж╕рждрзЗ ржЪрж╛ржЗржмрзЗ, ржХрж┐ржирзНрждрзБ рждрж╛ ржЖрж░ рж╕ржорзНржнржм рж╣ржмрзЗ ржирж╛ред</p>
                    </div>
                </div>
            </div>
        </section>
        
        <section id="dua-generator" class="py-16 md:py-24">
            <div class="text-center mb-12">
                <h3 class="text-3xl md:text-4xl font-bold text-stone-800">ржЖржкржирж╛рж░ ржкрзНрж░ржпрж╝рзЛржЬржирзЗ ржПржХржЯрж┐ ржжрзБ'ржЖ рждрзИрж░рж┐ ржХрж░рзБржи тЬи</h3>
                <p class="text-lg text-stone-600 mt-2 max-w-3xl mx-auto">ржЖрж▓рзНрж▓рж╛рж╣рж░ ржХрж╛ржЫрзЗ ржЖржкржирж╛рж░ ржоржирзЗрж░ ржХржерж╛ржЧрзБрж▓рзЛ ржЧрзБржЫрж┐ржпрж╝рзЗ ржмрж▓рждрзЗ ржкрж╛рж░ржЫрзЗржи ржирж╛? ржЖржкржирж╛рж░ ржкрзНрж░ржпрж╝рзЛржЬржиржЯрж┐ ржПржЦрж╛ржирзЗ рж▓рж┐ржЦрзБржи, Gemini API ржЖржкржирж╛рж░ ржЬржирзНржп ржПржХржЯрж┐ рж╕рзБржирзНржжрж░ ржУ ржЖржирзНрждрж░рж┐ржХ ржжрзБ'ржЖ рждрзИрж░рж┐ ржХрж░рзЗ ржжрзЗржмрзЗред</p>
            </div>
            <div class="max-w-3xl mx-auto bg-white rounded-xl shadow-lg p-8">
                <input type="text" id="dua-input" class="w-full p-3 border border-stone-300 rounded-lg text-lg focus:ring-2 focus:ring-amber-500 focus:border-amber-500 transition" placeholder="ржЖржкржирж╛рж░ ржкрзНрж░ржпрж╝рзЛржЬржи рж▓рж┐ржЦрзБржи (ржпрзЗржоржи: ржкрж░рзАржХрзНрж╖рж╛ржпрж╝ рж╕рж╛ржлрж▓рзНржп, ржЕрж╕рзБрж╕рзНржерждрж╛ ржерзЗржХрзЗ ржорзБржХрзНрждрж┐)">
                <button id="generate-dua-btn" class="w-full bg-amber-600 text-white font-bold py-3 px-8 rounded-lg hover:bg-amber-700 transition duration-300 text-lg shadow-lg mt-4">
                    ржжрзБ'ржЖ рждрзИрж░рж┐ ржХрж░рзБржи
                </button>
                <div id="dua-output" class="mt-6 p-4 border border-stone-200 rounded-lg bg-stone-50 min-h-[100px]">
                    <p class="text-stone-500">ржЖржкржирж╛рж░ ржжрзБ'ржЖ ржПржЦрж╛ржирзЗ ржкрзНрж░ржжрж░рзНрж╢рж┐ржд рж╣ржмрзЗ...</p>
                </div>
            </div>
        </section>
    </main>
    
    <footer class="bg-stone-800 text-stone-300 py-8">
        <div class="container mx-auto px-4 text-center">
            <p class="mb-4 text-lg italic">"рж╣рзЗ ржЖрж▓рзНрж▓рж╛рж╣, ржЖржорж╛ржжрзЗрж░ рж╕рждрзНржпржХрзЗ рж╕рждрзНржп рж╣рж┐рж╕рзЗржмрзЗ ржжрзЗржЦрж╛ржи ржПржмржВ рждрж╛ ржЕржирзБрж╕рж░ржг ржХрж░рж╛рж░ рждрзМржлрж┐ржХ ржжрж┐ржи, ржПржмржВ ржмрж╛рждрж┐рж▓ржХрзЗ ржмрж╛рждрж┐рж▓ рж╣рж┐рж╕рзЗржмрзЗ ржжрзЗржЦрж╛ржи ржПржмржВ рждрж╛ ржерзЗржХрзЗ ржмрж┐рж░ржд ржерж╛ржХрж╛рж░ рждрзМржлрж┐ржХ ржжрж┐ржиред"</p>
            <p class="text-stone-400">рж╢рзЗржЦ ржЦрж╛рж▓рж┐ржж ржЖрж▓-рж░рж╛рж╢рзЗржжрзЗрж░ "╪з┘Д╪║┘Б┘Д╪й" ржмржХрзНрждрзГрждрж╛рж░ ржЙржкрж░ ржнрж┐рждрзНрждрж┐ ржХрж░рзЗ ржирж┐рж░рзНржорж┐рждред</p>
        </div>
    </footer>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            
            const outcomes = {
                bad: {
                    title: "ржЧрж╛ржи ржЧрж╛ржЗрждрзЗ ржЧрж╛ржЗрждрзЗ ржорзГрждрзНржпрзБ",
                    content: `ржПржХ ржнржпрж╝рж╛ржиржХ рж╕ржбрж╝ржХ ржжрзБрж░рзНржШржЯржирж╛ржпрж╝ рждрж┐ржиржЬржи ржпрзБржмржХ ржорзГрждрзНржпрзБрж░ ржорзБржЦрзЛржорзБржЦрж┐ рж╣ржпрж╝ред ржпржЦржи рждрж╛ржжрзЗрж░ 'рж▓рж╛ ржЗрж▓рж╛рж╣рж╛ ржЗрж▓рзНрж▓рж╛рж▓рзНрж▓рж╛рж╣' ржкрж╛ржа ржХрж░рждрзЗ ржмрж▓рж╛ рж╣рж▓рзЛ, рждрж╛рж░рж╛ рждрж╛рж░ ржкрж░рж┐ржмрж░рзНрждрзЗ ржЧрж╛ржи ржЧрж╛ржЗрждрзЗ рж╢рзБрж░рзБ ржХрж░рзЗ ржПржмржВ рж╕рзЗржЗ ржЕржмрж╕рзНржерж╛рждрзЗржЗ ржорзГрждрзНржпрзБржмрж░ржг ржХрж░рзЗред рждрж╛ржжрзЗрж░ рж╕рж╛рж░рж╛ ржЬрзАржмржирзЗрж░ ржкрж╛ржк ржУ ржЙржжрж╛рж╕рзАржирждрж╛ ржорзГрждрзНржпрзБрж░ рж╕ржоржпрж╝ рждрж╛ржжрзЗрж░ ржзрзЛржБржХрж╛ ржжрзЗржпрж╝ред`,
                    sub_title: "рж╕рж╛рж▓рж╛ржд рждрзНржпрж╛ржЧржХрж╛рж░рзА ржпрзБржмржХрзЗрж░ ржкрж░рж┐ржгрждрж┐",
                    sub_content: `ржПржХржЬржи ржорзГрждржжрзЗрж╣ ржЧрзЛрж╕рж▓ржХрж╛рж░рзА ржмрж▓рзЗржи, ржПржХ ржлрж░рзНрж╕рж╛ ржпрзБржмржХржХрзЗ ржЧрзЛрж╕рж▓рзЗрж░ ржЬржирзНржп ржЖржирж╛ рж╣ржпрж╝ ржпрзЗ рж╕рж╛рж▓рж╛ржд ржкржбрж╝ржд ржирж╛ред ржЧрзЛрж╕рж▓ рж╢рзБрж░рзБ ржХрж░рж╛рж░ рж╕рж╛ржерзЗ рж╕рж╛ржерзЗ рждрж╛рж░ ржЪрж╛ржоржбрж╝рж╛ рждрзАржмрзНрж░ ржХрж╛рж▓рзЛ рж╣ржпрж╝рзЗ ржпрж╛ржпрж╝ред ржПржЯрж┐ ржЫрж┐рж▓ рждрж╛рж░ ржжрзБржирж┐ржпрж╝рж╛рж░ ржЖржорж▓рзЗрж░ ржкрзНрж░рждрж┐ржлрж▓ржиред`
                },
                good: {
                    title: "ржХрзБрж░ржЖржи ржкржбрж╝рждрзЗ ржкржбрж╝рждрзЗ ржорзГрждрзНржпрзБ",
                    content: `ржПржХ ржпрзБржмржХ ржжрзБрж░рзНржШржЯржирж╛ржпрж╝ ржорж╛рж░рж╛рждрзНржоржХржнрж╛ржмрзЗ ржЖрж╣ржд рж╣ржпрж╝ред рждрж╛ржХрзЗ рж╣рж╛рж╕ржкрж╛рждрж╛рж▓рзЗ ржирзЗржУржпрж╝рж╛рж░ ржкржерзЗ рж╕рзЗ ржпржирзНрждрзНрж░ржгрж╛рж░ ржорж╛ржЭрзЗржУ ржоржзрзБрж░ ржХржгрзНржарзЗ ржХрзБрж░ржЖржи рждрж┐рж▓рж╛ржУржпрж╝рж╛ржд ржХрж░рждрзЗ ржерж╛ржХрзЗред ржЕржмрж╢рзЗрж╖рзЗ рж╢рж╛рж╣рж╛ржжрж╛ржд ржЖржЩрзБрж▓ рждрзБрж▓рзЗ 'рж▓рж╛ ржЗрж▓рж╛рж╣рж╛ ржЗрж▓рзНрж▓рж╛рж▓рзНрж▓рж╛рж╣' ржмрж▓рждрзЗ ржмрж▓рждрзЗ рж╕рзЗ ржорзГрждрзНржпрзБржмрж░ржг ржХрж░рзЗред рждрж╛рж░ ржирзЗржХ ржЖржорж▓ рждрж╛ржХрзЗ ржХржарж┐ржи ржорзБрж╣рзВрж░рзНрждрзЗ рж╕рзНржерж┐рж░ рж░рж╛ржЦрзЗред`,
                    sub_title: "ржкрзБржгрзНржпржмрж╛ржи ржпрзБржмржХрзЗрж░ ржжрж╛ржлржи",
                    sub_content: `ржПржХ рж╕рзО ржУ ржкрзБржгрзНржпржмрж╛ржи ржпрзБржмржХржХрзЗ ржжрж╛ржлржирзЗрж░ ржЬржирзНржп ржЖржирж╛ рж╣ржпрж╝ред ржЧрзЛрж╕рж▓рзЗрж░ ржЖржЧрзЗржЗ рждрж╛рж░ рж╢рж░рзАрж░ ржерзЗржХрзЗ ржХрж╕рзНрждрзБрж░рзАрж░ рж╕рзБржЧржирзНржз ржмрзЗрж░ рж╣рждрзЗ ржерж╛ржХрзЗред ржжрж╛ржлржирзЗрж░ рж╕ржоржпрж╝ рждрж╛рж░ ржорзБржЦ рж╣рж╛рж╕рзНржпрзЛржЬрзНржЬрзНржмрж▓ ржЫрж┐рж▓ред рждрж╛рж░ ржЖржирзБржЧрждрзНржп рждрж╛ржХрзЗ ржХржмрж░рзЗржУ рж╕ржорзНржорж╛ржирж┐ржд ржХрж░рзЗред`
                }
            };

            const outcomeContentEl = document.getElementById('outcome-content');
            const btnBad = document.getElementById('btn-outcome-bad');
            const btnGood = document.getElementById('btn-outcome-good');

            function renderOutcome(type) {
                const data = outcomes[type];
                outcomeContentEl.innerHTML = `
                    <div class="transition-opacity duration-500 ease-in-out">
                        <div class="mb-6 pb-6 border-b border-stone-200">
                            <h4 class="text-2xl font-bold text-amber-800 mb-2">${data.title}</h4>
                            <p class="text-stone-700 leading-relaxed">${data.content}</p>
                        </div>
                        <div>
                            <h4 class="text-2xl font-bold text-amber-800 mb-2">${data.sub_title}</h4>
                            <p class="text-stone-700 leading-relaxed">${data.sub_content}</p>
                        </div>
                    </div>
                `;
            }

            btnBad.addEventListener('click', () => {
                renderOutcome('bad');
                btnBad.classList.add('bg-amber-600', 'text-white');
                btnBad.classList.remove('bg-stone-200', 'text-stone-700');
                btnGood.classList.add('bg-stone-200', 'text-stone-700');
                btnGood.classList.remove('bg-amber-600', 'text-white');
            });

            btnGood.addEventListener('click', () => {
                renderOutcome('good');
                btnGood.classList.add('bg-amber-600', 'text-white');
                btnGood.classList.remove('bg-stone-200', 'text-stone-700');
                btnBad.classList.add('bg-stone-200', 'text-stone-700');
                btnBad.classList.remove('bg-amber-600', 'text-white');
            });

            renderOutcome('bad');
            
            const tabs = document.querySelectorAll('.tab-button');
            const contents = document.querySelectorAll('.tab-content');

            tabs.forEach(tab => {
                tab.addEventListener('click', () => {
                    tabs.forEach(item => {
                        item.classList.remove('active-tab', 'text-amber-600', 'border-amber-600');
                        item.classList.add('text-stone-500');
                    });
                    tab.classList.add('active-tab', 'text-amber-600', 'border-amber-600');
                    tab.classList.remove('text-stone-500');
                    
                    const targetId = 'content-' + tab.id.split('-')[1];
                    contents.forEach(content => {
                        if(content.id === targetId) {
                            content.classList.remove('hidden');
                        } else {
                            content.classList.add('hidden');
                        }
                    });
                });
            });

            const mobileNav = document.getElementById('mobile-nav');
            mobileNav.addEventListener('change', function() {
                window.location.hash = this.value;
            });
            
            const ctx = document.getElementById('heartStateChart').getContext('2d');
            const heartStateData = {
                heedless: { labels: ['рж╕рж╛рж▓рж╛ржд', 'ржХрзБрж░ржЖржи', 'ржЖрж▓рзНрж▓рж╛рж╣рж░ рж╕рзНржорж░ржг', 'ржжрзБржирж┐ржпрж╝рж╛рж░ ржЪрж┐ржирзНрждрж╛'], data: [10, 5, 15, 70], backgroundColor: 'rgba(220, 38, 38, 0.6)', borderColor: 'rgba(220, 38, 38, 1)' },
                aware: { labels: ['рж╕рж╛рж▓рж╛ржд', 'ржХрзБрж░ржЖржи', 'ржЖрж▓рзНрж▓рж╛рж╣рж░ рж╕рзНржорж░ржг', 'ржжрзБржирж┐ржпрж╝рж╛рж░ ржЪрж┐ржирзНрждрж╛'], data: [80, 70, 85, 20], backgroundColor: 'rgba(22, 163, 74, 0.6)', borderColor: 'rgba(22, 163, 74, 1)' }
            };
            
            let myChart = new Chart(ctx, {
                type: 'bar',
                data: { labels: heartStateData.heedless.labels, datasets: [{ label: 'рж╣рзГржжрзЯрзЗрж░ ржЕржмрж╕рзНржерж╛ (рж╢рждрж╛ржВрж╢)', data: heartStateData.heedless.data, backgroundColor: heartStateData.heedless.backgroundColor, borderColor: heartStateData.heedless.borderColor, borderWidth: 1 }] },
                options: { responsive: true, maintainAspectRatio: false, scales: { y: { beginAtZero: true, max: 100 }}, plugins: { legend: { display: false }, tooltip: { callbacks: { label: function(context) { return context.dataset.label + ': ' + context.formattedValue + '%'; }}}}}
            });

            document.getElementById('btnHeedless').addEventListener('click', () => { myChart.data.datasets[0].data = heartStateData.heedless.data; myChart.data.datasets[0].backgroundColor = heartStateData.heedless.backgroundColor; myChart.data.datasets[0].borderColor = heartStateData.heedless.borderColor; myChart.update(); });
            document.getElementById('btnAware').addEventListener('click', () => { myChart.data.datasets[0].data = heartStateData.aware.data; myChart.data.datasets[0].backgroundColor = heartStateData.aware.backgroundColor; myChart.data.datasets[0].borderColor = heartStateData.aware.borderColor; myChart.update(); });
            
            async function callGemini(prompt, outputElement) {
                outputElement.innerHTML = '<div class="flex justify-center items-center"><div class="loader"></div></div>';
                
                let chatHistory = [{ role: "user", parts: [{ text: prompt }] }];
                const payload = { contents: chatHistory };
                const apiKey = "";
                const apiUrl = `https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash:generateContent?key=${apiKey}`;

                try {
                    const response = await fetch(apiUrl, {
                        method: 'POST',
                        headers: { 'Content-Type': 'application/json' },
                        body: JSON.stringify(payload)
                    });
                    
                    if (!response.ok) {
                        throw new Error(`API ржЕржирзБрж░рзЛржз ржмрзНржпрж░рзНрже рж╣ржпрж╝рзЗржЫрзЗ: ${response.statusText}`);
                    }

                    const result = await response.json();
                    
                    if (result.candidates && result.candidates.length > 0 && result.candidates[0].content && result.candidates[0].content.parts && result.candidates[0].content.parts.length > 0) {
                        let text = result.candidates[0].content.parts[0].text;
                        text = text.replace(/\*\*(.*?)\*\*/g, '<strong class="font-bold text-amber-800">$1</strong>');
                        text = text.replace(/^\* (.*$)/gm, '<li class="mb-2 list-disc ml-5">$1</li>');
                        text = text.replace(/\n/g, '<br>');
                        outputElement.innerHTML = `<div class="text-stone-700 leading-relaxed">${text}</div>`;
                    } else {
                        outputElement.innerHTML = `<p class="text-red-500">ржжрзБржГржЦрж┐ржд, ржХрзЛржирзЛ ржЙрждрзНрждрж░ ржкрж╛ржУрзЯрж╛ ржпрж╛рзЯржирж┐ред ржЕржирзБржЧрзНрж░рж╣ ржХрж░рзЗ ржЖржмрж╛рж░ ржЪрзЗрж╖рзНржЯрж╛ ржХрж░рзБржиред</p>`;
                        console.error("Unexpected API response structure:", result);
                    }
                } catch (error) {
                    console.error('Gemini API Error:', error);
                    outputElement.innerHTML = `<p class="text-red-500">ржПржХржЯрж┐ рждрзНрж░рзБржЯрж┐ ржШржЯрзЗржЫрзЗред ржЕржирзБржЧрзНрж░рж╣ ржХрж░рзЗ ржЖржкржирж╛рж░ ржЗржирзНржЯрж╛рж░ржирзЗржЯ рж╕ржВржпрзЛржЧ ржкрж░рзАржХрзНрж╖рж╛ ржХрж░рзЗ ржЖржмрж╛рж░ ржЪрзЗрж╖рзНржЯрж╛ ржХрж░рзБржиред</p>`;
                }
            }
            
            const planBtn = document.getElementById('generate-plan-btn');
            const planInput = document.getElementById('plan-input');
            const planOutput = document.getElementById('plan-output');

            planBtn.addEventListener('click', () => {
                const userInput = planInput.value.trim();
                if (!userInput) {
                    planOutput.innerHTML = '<p class="text-red-500">ржЕржирзБржЧрзНрж░рж╣ ржХрж░рзЗ ржЖржкржирж╛рж░ рж╕ржВржЧрзНрж░рж╛ржо рж╕ржорзНржкрж░рзНржХрзЗ ржХрж┐ржЫрзБ рж▓рж┐ржЦрзБржиред</p>';
                    return;
                }
                const prompt = `ржПржХржЬржи ржмрж┐ржЬрзНржЮ ржЗрж╕рж▓рж╛ржорж┐ржХ ржЙржкржжрзЗрж╖рзНржЯрж╛ рж╣рж┐рж╕рзЗржмрзЗ, рж╢рзЗржЦ ржЦрж╛рж▓рж┐ржж ржЖрж▓-рж░рж╛рж╢рзЗржжрзЗрж░ 'ржЧрж╛ржлрж▓рж╛ржд' ржмрж╛ ржЙржжрж╛рж╕рзАржирждрж╛ ржмрж┐рж╖ржпрж╝ржХ ржмржХрзНрждрзГрждрж╛рж░ ржЖрж▓рзЛржХрзЗ, ржирж┐ржорзНржирж▓рж┐ржЦрж┐ржд ржмрзНржпржХрзНрждрж┐ржЧржд рж╕ржВржЧрзНрж░рж╛ржорзЗрж░ ржЬржирзНржп ржПржХржЯрж┐ ржмрж╛рж╕рзНрждржмрж╕ржорзНржоржд, ржзрж╛ржкрзЗ ржзрж╛ржкрзЗ ржХрж░рзНржоржкрж░рж┐ржХрж▓рзНржкржирж╛ ржмрж╛ржВрж▓рж╛рзЯ рждрзИрж░рж┐ ржХрж░рзБржиред ржЙрждрзНрждрж░ржЯрж┐ рж╕рж╣рж╛ржирзБржнрзВрждрж┐рж╢рзАрж▓ ржПржмржВ ржЙрзОрж╕рж╛рж╣ржмрзНржпржЮрзНржЬржХ рж╣рждрзЗ рж╣ржмрзЗред ржкрж░рж┐ржХрж▓рзНржкржирж╛ржпрж╝ рж╕рж╛рж▓рж╛ржд, ржХрзБрж░ржЖржи, ржЖрж▓рзНрж▓рж╛рж╣рж░ рж╕рзНржорж░ржг ржПржмржВ рж╕рзОрж╕ржЩрзНржЧрзЗрж░ ржорждрзЛ ржмрж┐рж╖ржпрж╝ржЧрзБрж▓рзЛ ржЕржирзНрждрж░рзНржнрзБржХрзНржд ржХрж░рзБржиред ржмрзНржпржмрж╣рж╛рж░ржХрж╛рж░рзАрж░ рж╕ржорж╕рзНржпрж╛: "${userInput}"`;
                callGemini(prompt, planOutput);
            });

            const duaBtn = document.getElementById('generate-dua-btn');
            const duaInput = document.getElementById('dua-input');
            const duaOutput = document.getElementById('dua-output');

            duaBtn.addEventListener('click', () => {
                const userInput = duaInput.value.trim();
                if (!userInput) {
                    duaOutput.innerHTML = '<p class="text-red-500">ржЕржирзБржЧрзНрж░рж╣ ржХрж░рзЗ ржЖржкржирж╛рж░ ржкрзНрж░ржпрж╝рзЛржЬржирзЗрж░ ржХржерж╛ рж▓рж┐ржЦрзБржиред</p>';
                    return;
                }
                const prompt = `ржЗрж╕рж▓рж╛ржорж┐ржХ ржРрждрж┐рж╣рзНржп ржЕржирзБрж╕рж╛рж░рзЗ, ржирж┐ржорзНржирж▓рж┐ржЦрж┐ржд ржкрзНрж░ржпрж╝рзЛржЬржирзЗрж░ ржЬржирзНржп ржПржХржЯрж┐ ржЖржирзНрждрж░рж┐ржХ, рж╕рзБржирзНржжрж░ ржПржмржВ рж╣рзГржжржпрж╝ржЧрзНрж░рж╛рж╣рзА ржжрзБ'ржЖ ржмрж╛ржВрж▓рж╛ржпрж╝ рж░ржЪржирж╛ ржХрж░рзБржиред ржжрзБ'ржЖржЯрж┐ ржпрзЗржи ржмрж┐ржиржпрж╝ ржПржмржВ ржЖрж▓рзНрж▓рж╛рж╣рж░ ржкрзНрж░рждрж┐ ржкрзВрж░рзНржг ржирж┐рж░рзНржнрж░рждрж╛ ржкрзНрж░ржХрж╛рж╢ ржХрж░рзЗред ржмрзНржпржмрж╣рж╛рж░ржХрж╛рж░рзАрж░ ржкрзНрж░ржпрж╝рзЛржЬржи: "${userInput}"`;
                callGemini(prompt, duaOutput);
            });
        });
    </script>
</body>
</html>
