<!DOCTYPE html>
<html lang="bn" class="scroll-smooth">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ржорзБржХрзНрждрж┐рж░ рж╕ржирзНржзрж╛ржирзЗ: ржбрзБржмржирзНрждржжрзЗрж░ ржкрзНрж░рждрж┐ ржПржХржЯрж┐ ржмрж╛рж░рзНрждрж╛</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Hind+Siliguri:wght@400;600;700&display=swap" rel="stylesheet">
    <!-- Chosen Palette: Serene Dawn -->
    <!-- Application Structure Plan: The application is structured as a vertical narrative journey, guiding the user through thematic sections based on the sermon's flow. It starts with establishing the core conflict (drowning vs. salvation), diagnoses the problem with an interactive chart, and now offers a Gemini-powered personalized action plan. It then presents powerful narrative warnings and hopeful stories through storyboard layouts, provides historical context via a timeline, and ends with a direct call to action, enhanced with a Gemini-powered personal Dua generator. This structure creates an emotional and spiritual impact, making complex concepts accessible and providing personalized guidance. -->
    <!-- Visualization & Content Choices: 
        - Section 1 (The Choice): Goal: Inform/Frame. Method: Split-screen visual created with HTML/CSS. Interaction: None.
        - Section 2 (Anatomy of Drowning): Goal: Organize/Compare. Method: Interactive Polar Area Chart (Chart.js/Canvas). Interaction: Clicking/tapping reveals text.
        - Section 3 (Path to Salvation - Gemini): Goal: Guide/Personalize. Method: Interactive form. Interaction: User selects struggles, clicks a button to call Gemini API, which generates a personalized 3-step plan. Justification: Moves from diagnosis to personalized, actionable advice, making the guidance highly relevant.
        - Section 4 & 6 (Stories): Goal: Inform/Relate. Method: Storyboard layout. Interaction: Hover effects.
        - Section 5 (Verdict of History): Goal: Change/Inform. Method: Vertical timeline.
        - Section 7 (The Invitation - Gemini): Goal: Call to Action/Personalize. Method: Text input form. Interaction: User describes feelings, clicks a button to call Gemini API, which generates a personal Dua. Justification: Provides a deeply personal and spiritual tool at the climax of the user's journey. -->
    <!-- CONFIRMATION: NO SVG graphics used. NO Mermaid JS used. -->
    <style>
        body {
            font-family: 'Hind Siliguri', sans-serif;
            background-color: #FDFBF8;
            color: #3f3c3a;
        }
        .bg-sea-storm {
            background: linear-gradient(to top, #0f2027, #203a43, #2c5364);
        }
        .bg-sea-calm {
            background: linear-gradient(to bottom, #a1c4fd, #c2e9fb);
        }
        .font-arabic {
            font-family: 'Times New Roman', serif;
            direction: rtl;
        }
        .chart-container {
            position: relative;
            width: 100%;
            max-width: 600px;
            margin-left: auto;
            margin-right: auto;
            height: 350px;
            max-height: 50vh;
        }
        @media (min-width: 768px) {
            .chart-container {
                height: 450px;
            }
        }
        .nav-item {
            transition: color 0.3s, border-color 0.3s;
        }
        .nav-item.active, .nav-item:hover {
            color: #d97706; /* amber-600 */
            border-bottom-color: #d97706;
        }
        .loader {
            border: 4px solid #f3f3f3;
            border-top: 4px solid #d97706;
            border-radius: 50%;
            width: 40px;
            height: 40px;
            animation: spin 1s linear infinite;
            margin: 20px auto;
        }
        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
    </style>
</head>
<body class="antialiased">

    <!-- Header -->
    <header id="header" class="bg-white/80 backdrop-blur-md sticky top-0 z-50 shadow-sm">
        <nav class="container mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex items-center justify-between h-16">
                <div class="flex-shrink-0">
                    <h1 class="text-xl font-bold text-amber-700">ржорзБржХрзНрждрж┐рж░ рж╕ржирзНржзрж╛ржирзЗ</h1>
                </div>
                <div class="hidden md:block">
                    <div id="nav-menu" class="ml-10 flex items-baseline space-x-4">
                        <a href="#choice" class="nav-item text-gray-600 hover:text-amber-600 px-3 py-2 text-sm font-medium border-b-2 border-transparent">ржнрзВржорж┐ржХрж╛</a>
                        <a href="#anatomy" class="nav-item text-gray-600 hover:text-amber-600 px-3 py-2 text-sm font-medium border-b-2 border-transparent">рж╕рзНржмрж░рзВржк</a>
                        <a href="#guidance" class="nav-item text-gray-600 hover:text-amber-600 px-3 py-2 text-sm font-medium border-b-2 border-transparent">ржорзБржХрзНрждрж┐рж░ ржкрже</a>
                        <a href="#warning" class="nav-item text-gray-600 hover:text-amber-600 px-3 py-2 text-sm font-medium border-b-2 border-transparent">рж╕рждрж░рзНржХржмрж╛рж░рзНрждрж╛</a>
                        <a href="#history" class="nav-item text-gray-600 hover:text-amber-600 px-3 py-2 text-sm font-medium border-b-2 border-transparent">ржЗрждрж┐рж╣рж╛рж╕</a>
                        <a href="#salvation" class="nav-item text-gray-600 hover:text-amber-600 px-3 py-2 text-sm font-medium border-b-2 border-transparent">ржЖрж╢рж╛рж░ ржЧрж▓рзНржк</a>
                        <a href="#invitation" class="nav-item text-gray-600 hover:text-amber-600 px-3 py-2 text-sm font-medium border-b-2 border-transparent">ржЖрж╣рзНржмрж╛ржи</a>
                    </div>
                </div>
            </div>
        </nav>
    </header>

    <main>
        <!-- Section 1: The Defining Choice -->
        <section id="choice" class="min-h-screen flex flex-col items-center justify-center text-white text-center relative overflow-hidden">
            <div class="absolute inset-0 flex">
                <div class="w-1/2 bg-sea-storm flex items-center justify-center p-8">
                    <div class="z-10">
                        <h2 class="text-4xl md:text-6xl font-bold mb-4 opacity-80">ржирж┐ржоржЬрзНржЬржи</h2>
                        <p class="text-lg md:text-xl opacity-70">ржкрж╛ржк ржУ ржЧрж╛ржлрж┐рж▓рждрж┐рж░ ржЙрждрзНрждрж╛рж▓ рж╕рж╛ржЧрж░</p>
                    </div>
                </div>
                <div class="w-1/2 bg-sea-calm flex items-center justify-center p-8">
                    <div class="z-10 text-slate-800">
                        <h2 class="text-4xl md:text-6xl font-bold mb-4">ржорзБржХрзНрждрж┐</h2>
                        <p class="text-lg md:text-xl">ржирж╛ржЬрж╛рждрзЗрж░ рж╢рж╛ржирзНржд ржУ ржирж┐рж░рж╛ржкржж ржЖрж╢рзНрж░рзЯ</p>
                    </div>
                </div>
            </div>
            <div class="relative z-20 bg-black/50 p-6 md:p-10 rounded-xl max-w-4xl mx-auto shadow-2xl">
                 <h3 class="text-2xl md:text-4xl font-bold mb-4">рж╕рж┐ржжрзНржзрж╛ржирзНржд ржЖржкржирж╛рж░: ржирж┐ржоржЬрзНржЬржи ржирж╛ржХрж┐ ржорзБржХрзНрждрж┐?</h3>
                 <p class="text-lg md:text-xl italic">"ржЖржорж╛ржжрзЗрж░ ржЖрж▓рзЛржЪржирж╛ рж╕рж╛ржЧрж░рзЗ ржбрзЛржмрж╛ ржорж╛ржирзБрж╖ржжрзЗрж░ ржирж┐ржпрж╝рзЗ ржиржпрж╝... ржмрж░ржВ рждрж╛ржжрзЗрж░ ржирж┐ржпрж╝рзЗ, ржпрж╛рж░рж╛ ржжрзБржирж┐ржпрж╝рж╛рж░ ржнрзЛржЧ-ржмрж┐рж▓рж╛рж╕рзЗ ржбрзБржмрзЗ ржЖржЫрзЗред"</p>
            </div>
        </section>

        <!-- Section 2: The Anatomy of Drowning -->
        <section id="anatomy" class="py-20 bg-amber-50/50">
            <div class="container mx-auto px-4 sm:px-6 lg:px-8 text-center">
                <h2 class="text-3xl md:text-4xl font-bold mb-4 text-amber-800">ржирж┐ржоржЬрзНржЬржирзЗрж░ рж╕рзНржмрж░рзВржк: ржЧрж╛ржлрж┐рж▓рждрж┐рж░ ржЪрж╛рж░ржЯрж┐ ржЕржмрж╕рзНржерж╛</h2>
                <p class="max-w-3xl mx-auto text-lg text-gray-600 mb-12">ржПржЗ ржмрж┐ржнрж╛ржЧрзЗ, ржЖржорж░рж╛ ржЖржзрзНржпрж╛рждрзНржорж┐ржХ ржкрждржирзЗрж░ ржЪрж╛рж░ржЯрж┐ ржкрзНрж░ржзрж╛ржи рж▓ржХрзНрж╖ржг рждрзБрж▓рзЗ ржзрж░рзЗржЫрж┐ ржпрж╛ ржПржХржЬржи ржмрзНржпржХрзНрждрж┐ржХрзЗ ржкрж╛ржкрзЗрж░ рж╕рж╛ржЧрж░рзЗ ржбрзБржмрж┐рзЯрзЗ ржжрзЗрзЯред ржирж┐ржЪрзЗрж░ ржЪрж┐рждрзНрж░ржЯрж┐рждрзЗ ржкрзНрж░рждрж┐ржЯрж┐ рж▓ржХрзНрж╖ржгрзЗрж░ ржЙржкрж░ ржХрзНрж▓рж┐ржХ ржХрж░рзЗ ржмрж┐рж╕рзНрждрж╛рж░рж┐ржд ржЬрж╛ржирзБржиред ржкрзНрж░рждрж┐ржЯрж┐ ржЕржВрж╢ ржЧрж╛ржлрж┐рж▓рждрж┐рж░ ржПржХ ржПржХржЯрж┐ ржЕржмрж╕рзНржерж╛ ржкрзНрж░ржХрж╛рж╢ ржХрж░рзЗ ржпрж╛ ржерзЗржХрзЗ ржЖржорж╛ржжрзЗрж░ ржмрзЗржБржЪрзЗ ржерж╛ржХрж╛ ржЖржмрж╢рзНржпржХред</p>
                <div class="flex flex-col lg:flex-row items-center gap-8 lg:gap-12">
                    <div class="w-full lg:w-1/2">
                        <div class="chart-container">
                            <canvas id="drowningChart"></canvas>
                        </div>
                    </div>
                    <div id="anatomy-details" class="w-full lg:w-1/2 p-8 bg-white rounded-lg shadow-lg text-left min-h-[350px] flex flex-col justify-center transition-all duration-500">
                        <div class="text-center text-gray-500">
                            <p class="text-xl">ржмрж┐рж╕рзНрждрж╛рж░рж┐ржд ржЬрж╛ржирждрзЗ ржЪрж┐рждрзНрж░рзЗрж░ ржпрзЗржХрзЛржирзЛ ржПржХржЯрж┐ ржЕржВрж╢рзЗ ржХрзНрж▓рж┐ржХ ржХрж░рзБржиред</p>
                        </div>
                    </div>
                </div>
            </div>
        </section>
        
        <!-- Section 3: Gemini Powered Guidance -->
        <section id="guidance" class="py-20 bg-white">
            <div class="container mx-auto px-4 sm:px-6 lg:px-8 text-center">
                <h2 class="text-3xl md:text-4xl font-bold mb-4 text-amber-800">ржЖржкржирж╛рж░ ржмрзНржпржХрзНрждрж┐ржЧржд ржорзБржХрзНрждрж┐рж░ ржкрже</h2>
                <p class="max-w-3xl mx-auto text-lg text-gray-600 mb-8">ржкрзВрж░рзНржмржмрж░рзНрждрзА ржЕржВрж╢рзЗ ржмрж░рзНржгрж┐ржд рж▓ржХрзНрж╖ржгржЧрзБрж▓рзЛ ржерзЗржХрзЗ ржЖржкржирж┐ ржХрзЛржиржЯрж┐рж░ рж╕рж╛ржерзЗ ржирж┐ржЬрзЗржХрзЗ рж╕ржорзНржкрж░рзНржХрж┐ржд ржХрж░рждрзЗ ржкрж╛рж░рзЗржи рждрж╛ ржирж┐рж░рзНржмрж╛ржЪржи ржХрж░рзБржиред ржЖржкржирж╛рж░ ржирж┐рж░рзНржмрж╛ржЪржирзЗрж░ ржЙржкрж░ ржнрж┐рждрзНрждрж┐ ржХрж░рзЗ ржЖржорж░рж╛ ржЖржкржирж╛ржХрзЗ рждржУржмрж╛рж░ ржкржерзЗ ржПржЧрж┐рзЯрзЗ ржпрж╛ржУрзЯрж╛рж░ ржЬржирзНржп ржХрж┐ржЫрзБ ржмрзНржпржХрзНрждрж┐ржЧржд ржкрж░рж╛ржорж░рзНрж╢ ржжрзЗржмред</p>
                <div id="struggle-options" class="max-w-2xl mx-auto grid grid-cols-1 md:grid-cols-2 gap-4 mb-8">
                    <!-- Checkboxes will be populated by JS -->
                </div>
                <button id="generate-plan-btn" class="bg-amber-600 text-white font-bold py-3 px-8 rounded-lg hover:bg-amber-700 transition-colors duration-300 text-lg shadow-md">
                    тЬи ржЖржорж╛рж░ ржЬржирзНржп ржПржХржЯрж┐ ржорзБржХрзНрждрж┐рж░ ржкрже рждрзИрж░рж┐ ржХрж░рзБржи
                </button>
                <div id="plan-loader" class="hidden loader"></div>
                <div id="plan-result" class="mt-8 max-w-3xl mx-auto text-left"></div>
            </div>
        </section>

        <!-- Section 4: A Cautionary Tale -->
        <section id="warning" class="py-20 bg-slate-800 text-white">
            <div class="container mx-auto px-4 sm:px-6 lg:px-8">
                <h2 class="text-3xl md:text-4xl font-bold text-center mb-4 text-amber-400">ржПржХржЯрж┐ рж╕рждрж░рзНржХрждрж╛ржорзВрж▓ржХ ржЧрж▓рзНржк: ржмржирзНржзрзБрж░ ржмрж┐рж╢рзНржмрж╛рж╕ржШрж╛рждржХрждрж╛</h2>
                <p class="max-w-3xl mx-auto text-center text-lg text-slate-300 mb-12">ржПржЦрж╛ржирзЗ ржПржХржЯрж┐ ржорж░рзНржорж╛ржирзНрждрж┐ржХ ржХрж╛рж╣рж┐ржирзА рждрзБрж▓рзЗ ржзрж░рж╛ рж╣рж▓рзЛ ржпрж╛ ржЕрж╕рзО рж╕ржЩрзНржЧрзЗрж░ ржнрзЯрж╛ржмрж╣ ржкрж░рж┐ржгрждрж┐рж░ ржХржерж╛ рж╕рзНржорж░ржг ржХрж░рж┐рзЯрзЗ ржжрзЗрзЯред</p>
                <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-4">
                    <div class="bg-slate-700 rounded-lg p-6 flex flex-col items-center text-center transform hover:scale-105 transition-transform duration-300">
                        <div class="text-5xl mb-4">ЁЯХМ</div> <h3 class="font-bold text-lg mb-2">ржорзБржХрзНрждрж┐рж░ ржЖрж▓рзЛ</h3> <p class="text-sm text-slate-300">"ржПржХржЬржи ржпрзБржмржХ рж╣рж┐ржжрж╛рзЯрж╛рждрзЗрж░ ржкрже ржмрзЗржЫрзЗ ржирж┐рж▓ред"</p>
                    </div>
                    <div class="bg-slate-700 rounded-lg p-6 flex flex-col items-center text-center transform hover:scale-105 transition-transform duration-300">
                        <div class="text-5xl mb-4">ЁЯСе</div> <h3 class="font-bold text-lg mb-2">ржкрзНрж░рждрж╛рж░ржгрж╛рж░ рж╣рж╛рждржЫрж╛ржирж┐</h3> <p class="text-sm text-slate-300">"ржЪрж▓рзЛ, ржПржХржЯрж┐ ржЧрж╛рзЬрж┐ ржХрж┐ржирждрзЗ ржпрж╛ржЗ... рждрзБржорж┐ ржЖржорж╛ржжрзЗрж░ ржЗржорж╛ржорждрж┐ ржХрж░ржмрзЗред"</p>
                    </div>
                    <div class="bg-slate-700 rounded-lg p-6 flex flex-col items-center text-center transform hover:scale-105 transition-transform duration-300">
                        <div class="text-5xl mb-4 text-red-400">ЁЯН╖</div> <h3 class="font-bold text-lg mb-2">ржЕржирзНржзржХрж╛рж░рзЗ ржкрждржи</h3> <p class="text-sm text-slate-300">"рждрж╛рж░рж╛ рждрж╛ржХрзЗ ржоржж ржУ ржЧрж╛ржи ржжрж┐ржпрж╝рзЗ ржкрзНрж░рж▓рзБржмрзНржз ржХрж░рж▓ред"</p>
                    </div>
                    <div class="bg-slate-700 rounded-lg p-6 flex flex-col items-center text-center transform hover:scale-105 transition-transform duration-300">
                        <div class="text-5xl mb-4">ЁЯТФ</div> <h3 class="font-bold text-lg mb-2">ржорж░рзНржорж╛ржирзНрждрж┐ржХ ржкрж░рж┐ржгрждрж┐</h3> <p class="text-sm text-slate-300">"рждрж╛рж░рж╛ рждрж╛ржХрзЗ ржорзГржд ржЕржмрж╕рзНржерж╛ржпрж╝ ржкрзЗрж▓... рж╕ржмржЪрзЗржпрж╝рзЗ ржирж┐ржХрзГрж╖рзНржЯрждржо ржкрж░рж┐ржгрждрж┐рж░ ржЙржкрж░ред"</p>
                    </div>
                    <div class="bg-red-900/50 rounded-lg p-6 flex flex-col items-center text-center justify-center transform hover:scale-105 transition-transform duration-300">
                        <h3 class="font-bold text-lg mb-2 text-amber-300">ржРрж╢рзНржмрж░рж┐ржХ рж░рж╛рзЯ</h3> <p class="font-arabic text-2xl text-white mb-2">┘К┘О╪з ┘И┘О┘К┘Т┘Д┘О╪к┘О┘Й┘░ ┘Д┘О┘К┘Т╪к┘О┘Ж┘Р┘К ┘Д┘О┘Е┘Т ╪г┘О╪к┘С┘О╪о┘Р╪░┘Т ┘Б┘П┘Д┘О╪з┘Ж┘Л╪з ╪о┘О┘Д┘Р┘К┘Д┘Л╪з</p> <p class="text-sm text-slate-300 italic">"рж╣рж╛рзЯ! ржжрзБрж░рзНржнрзЛржЧ ржЖржорж╛рж░, ржЖржорж┐ ржпржжрж┐ ржЕржорзБржХржХрзЗ ржмржирзНржзрзБрж░рзВржкрзЗ ржЧрзНрж░рж╣ржг ржирж╛ ржХрж░рждрж╛ржо!" (ржЖрж▓-ржлрзБрж░ржХрж╛ржи: рзирзо)</p>
                    </div>
                </div>
            </div>
        </section>

        <!-- Section 5: The Verdict of History -->
        <section id="history" class="py-20 bg-amber-50/50">
            <div class="container mx-auto px-4 sm:px-6 lg:px-8">
                <h2 class="text-3xl md:text-4xl font-bold text-center mb-4 text-amber-800">ржЗрждрж┐рж╣рж╛рж╕рзЗрж░ рж░рж╛ржпрж╝: ржкрж╛ржкрзЗрж░ ржкрж░рж┐ржгрждрж┐</h2>
                <p class="max-w-3xl mx-auto text-center text-lg text-gray-600 mb-12">ржкрж╛ржкрзЗрж░ ржмрж┐ржзрзНржмржВрж╕рзА ржкрж░рж┐ржгрждрж┐ ржХрзЛржирзЛ ржмрж┐ржЪрзНржЫрж┐ржирзНржи ржШржЯржирж╛ ржирзЯ, ржмрж░ржВ ржПржЯрж┐ ржПржХржЯрж┐ ржРрж╢рзНржмрж░рж┐ржХ ржЖржЗржи ржпрж╛ ржЗрждрж┐рж╣рж╛рж╕ ржЬрзБрзЬрзЗ ржХрж╛рж░рзНржпржХрж░ рж╣рзЯрзЗржЫрзЗред</p>
                <div class="relative max-w-2xl mx-auto">
                    <div class="border-r-2 border-amber-200 absolute h-full top-0" style="left: 15px"></div>
                    <ul class="space-y-8">
                        <li class="flex items-center">
                            <div class="flex-shrink-0 bg-amber-500 rounded-full h-8 w-8 flex items-center justify-center text-white font-bold z-10">рзз</div>
                            <div class="ml-6 bg-white rounded-lg p-4 shadow-md w-full"><h3 class="font-bold">ржирзВрж╣рзЗрж░ рж╕ржорзНржкрзНрж░ржжрж╛ржпрж╝</h3><p class="text-gray-600">ржорж╣рж╛ржкрзНрж▓рж╛ржмржи ржжрзНржмрж╛рж░рж╛ ржзрзНржмржВрж╕ржкрзНрж░рж╛ржкрзНрждред</p></div>
                        </li>
                        <li class="flex items-center">
                            <div class="flex-shrink-0 bg-amber-500 rounded-full h-8 w-8 flex items-center justify-center text-white font-bold z-10">рзи</div>
                            <div class="ml-6 bg-white rounded-lg p-4 shadow-md w-full"><h3 class="font-bold">ржЖржж ржЬрж╛рждрж┐</h3><p class="text-gray-600">ржзрзНржмржВрж╕рж╛рждрзНржоржХ ржЭрзЬ ржжрзНржмрж╛рж░рж╛ ржирж┐рж╢рзНржЪрж┐рж╣рзНржиред</p></div>
                        </li>
                        <li class="flex items-center">
                            <div class="flex-shrink-0 bg-amber-500 rounded-full h-8 w-8 flex items-center justify-center text-white font-bold z-10">рзй</div>
                            <div class="ml-6 bg-white rounded-lg p-4 shadow-md w-full"><h3 class="font-bold">рж╕рж╛ржорзВржж ржЬрж╛рждрж┐</h3><p class="text-gray-600">ржнрзЯржЩрзНржХрж░ рж╢ржмрзНржж ржжрзНржмрж╛рж░рж╛ ржмрж┐рж▓рзБржкрзНрждред</p></div>
                        </li>
                         <li class="flex items-center">
                            <div class="flex-shrink-0 bg-amber-500 rounded-full h-8 w-8 flex items-center justify-center text-white font-bold z-10">рзк</div>
                            <div class="ml-6 bg-white rounded-lg p-4 shadow-md w-full"><h3 class="font-bold">рж▓рзВрждрзЗрж░ рж╕ржорзНржкрзНрж░ржжрж╛ржпрж╝</h3><p class="text-gray-600">ржЬржиржкржж ржЙрж▓рзНржЯрзЗ ржжрзЗржУржпрж╝рж╛ рж╣ржпрж╝рзЗржЫрж┐рж▓ред</p></div>
                        </li>
                         <li class="flex items-center">
                            <div class="flex-shrink-0 bg-amber-500 rounded-full h-8 w-8 flex items-center justify-center text-white font-bold z-10">рзл</div>
                            <div class="ml-6 bg-white rounded-lg p-4 shadow-md w-full"><h3 class="font-bold">ржлрзЗрж░рж╛ржЙржи ржУ рждрж╛рж░ рж╕ржорзНржкрзНрж░ржжрж╛ржпрж╝</h3><p class="text-gray-600">рж╕рж╛ржЧрж░рзЗ ржирж┐ржоржЬрзНржЬрж┐рждред</p></div>
                        </li>
                    </ul>
                </div>
                 <div class="mt-12 text-center bg-gray-800 text-white p-8 rounded-lg max-w-4xl mx-auto shadow-xl">
                    <h3 class="font-bold text-lg mb-2 text-amber-300">ржЪрзВрзЬрж╛ржирзНржд рж╕рждрж░рзНржХржмрж╛ржгрзА</h3>
                    <p class="font-arabic text-3xl mb-4">┘И┘О┘Г┘О╪░┘О┘░┘Д┘Р┘Г┘О ╪г┘О╪о┘Т╪░┘П ╪▒┘О╪и┘С┘Р┘Г┘О ╪е┘Р╪░┘О╪з ╪г┘О╪о┘О╪░┘О ╪з┘Д┘Т┘В┘П╪▒┘О┘Й┘░ ┘И┘О┘З┘Р┘К┘О ╪╕┘О╪з┘Д┘Р┘Е┘О╪й┘М █Ъ ╪е┘Р┘Ж┘С┘О ╪г┘О╪о┘Т╪░┘О┘З┘П ╪г┘О┘Д┘Р┘К┘Е┘М ╪┤┘О╪п┘Р┘К╪п┘М</p>
                    <p class="text-lg italic text-slate-300">"ржЖрж░ ржПржнрж╛ржмрзЗржЗ рждрзЛржорж╛рж░ рж░ржм ржЕрждрзНржпрж╛ржЪрж╛рж░рзА ржЬржиржкржжржЧрзБрж▓рзЛржХрзЗ ржкрж╛ржХржбрж╝рж╛ржУ ржХрж░рзЗржиред ржирж┐рж╢рзНржЪржпрж╝ржЗ рждрж╛ржБрж░ ржкрж╛ржХржбрж╝рж╛ржУ ржЕрждрзНржпржирзНржд ржпржирзНрждрзНрж░ржгрж╛ржжрж╛ржпрж╝ржХ ржУ ржХржарзЛрж░ред" (рж╣рзВржж: рззрзжрзи)</p>
                </div>
            </div>
        </section>

        <!-- Section 6: The Journey to Salvation -->
        <section id="salvation" class="py-20 bg-sky-50">
             <div class="container mx-auto px-4 sm:px-6 lg:px-8">
                <h2 class="text-3xl md:text-4xl font-bold text-center mb-4 text-sky-800">ржЖрж╢рж╛рж░ ржЧрж▓рзНржк: ржПржХржЬржи ржЙржжрзНржзрж╛рж░ржкрзНрж░рж╛ржкрзНрждрзЗрж░ ржпрж╛рждрзНрж░рж╛</h2>
                <p class="max-w-3xl mx-auto text-center text-lg text-gray-600 mb-12">рж╣рждрж╛рж╢рж╛рж░ ржмрж┐ржкрж░рзАрждрзЗ, ржПржЗ ржЧрж▓рзНржкржЯрж┐ ржЖрж╢рж╛рж░ ржЖрж▓рзЛ ржжрзЗржЦрж╛рзЯред ржПржЯрж┐ ржкрзНрж░ржорж╛ржг ржХрж░рзЗ ржпрзЗ, ржЖржирзНрждрж░рж┐ржХ рждржУржмрж╛рж░ ржорж╛ржзрзНржпржорзЗ ржорзБржХрзНрждрж┐рж░ ржкрже рж╕рж░рзНржмржжрж╛ ржЦрзЛрж▓рж╛ ржерж╛ржХрзЗред</p>
                <div class="grid grid-cols-1 md:grid-cols-3 gap-6">
                    <div class="bg-white rounded-lg p-8 flex flex-col items-center text-center shadow-lg transform hover:-translate-y-2 transition-transform duration-300">
                        <div class="text-6xl mb-4">ЁЯТе</div> <h3 class="font-bold text-xl mb-2 text-sky-700">ржРрж╢рзНржмрж░рж┐ржХ рж╕рждрж░рзНржХрж╕ржВржХрзЗржд</h3> <p class="text-gray-600">"ржмржирзНржзрзБржжрзЗрж░ ржЖржХрж╕рзНржорж┐ржХ ржорзГрждрзНржпрзБ ржжрзЗржЦрзЗ рж╕рзЗ ржЙржкрж▓ржмрзНржзрж┐ ржХрж░рж▓, 'ржЖржорж┐ ржпржжрж┐ рждрж╛ржжрзЗрж░ рж╕рж╛ржерзЗ ржерж╛ржХрждрж╛ржо?'"</p>
                    </div>
                    <div class="bg-white rounded-lg p-8 flex flex-col items-center text-center shadow-lg transform hover:-translate-y-2 transition-transform duration-300">
                        <div class="text-6xl mb-4">ЁЯШн</div> <h3 class="font-bold text-xl mb-2 text-sky-700">ржЕржирзБрж╢рзЛржЪржирж╛рж░ ржЕрж╢рзНрж░рзБ</h3> <p class="text-gray-600">"рж░ржоржЬрж╛ржирзЗрж░ ржПржХ рж░рж╛рждрзЗ ржХрзБрж░ржЖржирзЗрж░ ржЖрзЯрж╛ржд рж╢рзБржирзЗ рждрж╛рж░ ржЕржирзНрждрж░ ржХрзЗржБржкрзЗ ржЙржарж▓ ржПржмржВ рж╕рзЗ ржЕржЭрзЛрж░рзЗ ржХрж╛ржБржжрждрзЗ рж▓рж╛ржЧрж▓ред"</p>
                    </div>
                    <div class="bg-white rounded-lg p-8 flex flex-col items-center text-center shadow-lg transform hover:-translate-y-2 transition-transform duration-300">
                         <div class="text-6xl mb-4 text-yellow-400">ЁЯМЯ</div> <h3 class="font-bold text-xl mb-2 text-sky-700">ржИржорж╛ржирзЗрж░ ржирзВрж░</h3> <p class="text-gray-600">"рждрж╛рж░ ржЪрзЗрж╣рж╛рж░рж╛ржпрж╝ ржПржЦржи ржИржорж╛ржирзЗрж░ ржирзВрж░ред рж╕рзЗ ржПржЦржи ржЕржирзНржпржжрзЗрж░ ржорзБржХрзНрждрж┐рж░ ржкржерзЗ ржЖрж╣рзНржмрж╛ржи ржХрж░рзЗред"</p>
                    </div>
                </div>
             </div>
        </section>

        <!-- Section 7: The Invitation -->
        <section id="invitation" class="py-20 bg-sea-calm text-center">
            <div class="container mx-auto px-4 sm:px-6 lg:px-8">
                <div class="max-w-3xl mx-auto bg-white/90 p-10 rounded-2xl shadow-2xl backdrop-blur-sm">
                    <h2 class="text-4xl md:text-5xl font-bold text-amber-700 mb-6">ржЦрзЛрж▓рж╛ ржжрж░ржЬрж╛: ржжржпрж╝рж╛рж░ ржкржерзЗ ржЖрж╣рзНржмрж╛ржи</h2>
                    <p class="text-xl text-gray-700 mb-8">ржкрж╛ржкрзЗрж░ ржЕржирзНржзржХрж╛рж░ ржерзЗржХрзЗ ржмрзЗрж░рж┐ржпрж╝рзЗ ржПрж╕рзЗ ржЖрж▓рзНрж▓рж╛рж╣рж░ ржЕрж╕рзАржо рж░рж╣ржорждрзЗрж░ ржжрж┐ржХрзЗ ржлрж┐рж░рзЗ ржЖрж╕рж╛рж░ ржкрже ржПржЦржирзЛ ржЦрзЛрж▓рж╛ ржЖржЫрзЗред</p>
                    
                    <!-- Gemini Dua Generator -->
                    <div class="bg-amber-50 p-6 rounded-lg my-8 border border-amber-200">
                        <h3 class="text-2xl font-bold text-amber-800 mb-3">ржЖржкржирж╛рж░ ржоржирзЗрж░ ржХржерж╛ ржмрж▓рзБржи</h3>
                        <p class="text-gray-600 mb-4">ржЖржкржирж╛рж░ ржоржирзЗрж░ ржЕржирзБржнрзВрждрж┐ ржмрж╛ рж╕ржВржЧрзНрж░рж╛ржорзЗрж░ ржХржерж╛ рж▓рж┐ржЦрзБржи, ржЖржорж░рж╛ ржЖржкржирж╛рж░ ржЬржирзНржп ржПржХржЯрж┐ ржмрзНржпржХрзНрждрж┐ржЧржд ржжрзЛрзЯрж╛ рждрзИрж░рж┐ ржХрж░рждрзЗ рж╕рж╛рж╣рж╛ржпрзНржп ржХрж░ржмред</p>
                        <textarea id="dua-input" class="w-full p-3 border border-amber-300 rounded-lg focus:ring-2 focus:ring-amber-500 focus:outline-none" rows="3" placeholder="ржпрзЗржоржи: ржЖржорж┐ ржПржХрж╛ржХрзА ржУ рж╣рждрж╛рж╢ ржмрзЛржз ржХрж░ржЫрж┐..."></textarea>
                        <button id="generate-dua-btn" class="mt-4 bg-amber-600 text-white font-bold py-2 px-6 rounded-lg hover:bg-amber-700 transition-colors duration-300 text-lg shadow-md">
                            тЬи ржЖржорж╛рж░ ржЬржирзНржп ржПржХржЯрж┐ ржжрзЛрзЯрж╛ рждрзИрж░рж┐ ржХрж░рзБржи
                        </button>
                        <div id="dua-loader" class="hidden loader"></div>
                        <div id="dua-result" class="mt-6 text-left"></div>
                    </div>

                    <div class="mt-12 border-t-2 border-amber-200 pt-8">
                         <h3 class="font-bold text-lg mb-2 text-amber-800">ржЖржорж╛ржжрзЗрж░ рж╕ржорзНржорж┐рж▓рж┐ржд ржкрзНрж░рж╛рж░рзНржержирж╛</h3>
                         <p class="text-lg italic text-gray-600">"рж╣рзЗ ржЖрж▓рзНрж▓рж╛рж╣, рждржУржмрж╛ржХрж╛рж░рзАржжрзЗрж░ рждржУржмрж╛ ржХржмрзБрж▓ ржХрж░рзБржи, ржЧрзБржирж╛рж╣ржЧрж╛рж░ржжрзЗрж░ ржЧрзБржирж╛рж╣ ржорж╛ржл ржХрж░рзБржи, ржПржмржВ ржкржерж╣рж╛рж░рж╛ржжрзЗрж░ ржкрже ржжрзЗржЦрж╛ржиред ржЖржорж╛ржжрзЗрж░ржХрзЗ ржЗрж╕рж▓рж╛ржорзЗрж░ ржЙржкрж░ ┘В╪з╪ж┘Е рж░рж╛ржЦрзБржи ржПржмржВ ржорзГрждрзНржпрзБрж░ ржкрзВрж░рзНржмрзЗ ржЦрж╛ржБржЯрж┐ рждржУржмрж╛ ржирж╕рж┐ржм ржХрж░рзБржиред"</p>
                    </div>
                </div>
            </div>
        </section>
    </main>

    <footer class="bg-slate-800 text-white py-4">
        <div class="container mx-auto px-4 text-center text-sm">
            <p>&copy; рзирзжрзирзл | рж╢рзЗржЦ ржЦрж╛рж▓рж┐ржж ржЖрж▓-рж░рж╛рж╢рзЗржжрзЗрж░ "ржЖрж╣ржУржпрж╝рж╛рж▓рзБрж▓ ржЧрж╛рж░рж┐ржХрзАржи" ржЦрзБрждржмрж╛рж░ ржЙржкрж░ ржнрж┐рждрзНрждрж┐ ржХрж░рзЗ ржирж┐рж░рзНржорж┐ржд ржПржХржЯрж┐ рж╢рж┐ржХрзНрж╖рж╛ржорзВрж▓ржХ ржкрзНрж░ржпрж╝рж╛рж╕ред</p>
        </div>
    </footer>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const anatomyData = [
                {
                    key: 'salat',
                    label: 'ржЕржмрж╣рзЗрж▓рж┐ржд рж╕рж╛рж▓рж╛ржд',
                    icon: 'тЬИя╕П',
                    value: 1,
                    title: 'ржЕржмрж╣рзЗрж▓рж┐ржд рж╕рж╛рж▓рж╛ржд',
                    quote: '"рж╕рзЗ рждрж╛рж░ ржмрж┐ржорж╛ржирзЗрж░ ржЬржирзНржп ржлржЬрж░рзЗрж░ ржЖржЧрзЗ ржШрзБржо ржерзЗржХрзЗ ржУржарзЗ, ржХрж┐ржирзНрждрзБ ржлржЬрж░рзЗрж░ рж╕рж╛рж▓рж╛рждрзЗрж░ ржЬржирзНржп ржЙржарждрзЗ ржкрж╛рж░рзЗ ржирж╛ред ржПржХржЯрж┐ ржХрзНрж╖ржгрж╕рзНржерж╛рзЯрзА ржпрж╛рждрзНрж░рж╛рж░ ржЬржирзНржп рж╕рзЗ ржкрзНрж░рж╕рзНрждрзБржд, ржХрж┐ржирзНрждрзБ ржЕржиржирзНрждрзЗрж░ ржпрж╛рждрзНрж░рж╛рж░ ржЬржирзНржп ржирзЯред"',
                    bgColor: 'bg-red-100',
                    borderColor: 'border-red-500'
                },
                {
                    key: 'entertainment',
                    label: 'рж╢рзВржирзНржпрждрж╛рж░ ржкрзНрж░рждрж┐ржзрзНржмржирж┐',
                    icon: 'ЁЯО╡',
                    value: 1,
                    title: 'рж╢рзВржирзНржпрждрж╛рж░ ржкрзНрж░рждрж┐ржзрзНржмржирж┐',
                    quote: '"рждрж╛рж░рж╛ ржЧрж╛ржпрж╝ржХ-ржЧрж╛ржпрж╝рж┐ржХрж╛ржжрзЗрж░ ржирж╛ржо ржЬрж╛ржирзЗ, ржХрж┐ржирзНрждрзБ ржорзБрж╣рж╛ржорзНржоржж (я╖║) ржУ рждрж╛ржБрж░ рж╕рж╛рж╣рж╛ржмрзАржжрзЗрж░ ржЬрзАржмржирзА ржЬрж╛ржирзЗ ржирж╛ред рждрж╛ржжрзЗрж░ ржЕржирзНрждрж░ ржЕрж░рзНржерж╣рзАржи рж╢ржмрзНржжрзЗ ржкрзВрж░рзНржг, ржХрж┐ржирзНрждрзБ ржХрзБрж░ржЖржирзЗрж░ ржЖрж▓рзЛ ржерзЗржХрзЗ ржмржЮрзНржЪрж┐рждред"',
                    bgColor: 'bg-blue-100',
                    borderColor: 'border-blue-500'
                },
                {
                    key: 'materialism',
                    label: 'ржмрж╛рж╣рзНржпрж┐ржХ ржЪрж╛ржХржЪрж┐ржХрзНржп',
                    icon: 'ЁЯСФ',
                    value: 1,
                    title: 'ржмрж╛ржЬрж╛рж░рзЗрж░ ржЪрж╛ржХржЪрж┐ржХрзНржп',
                    quote: '"рждрж╛ржжрзЗрж░ ржмрж╛рж╣рзНржпрж┐ржХ рж░рзВржк рждрзЛржорж╛ржХрзЗ ржорзБржЧрзНржз ржХрж░ржмрзЗ... ржХрж┐ржирзНрждрзБ рждрж╛ржжрзЗрж░ ржнрзЗрждрж░ржЯрж╛ ржЕржирзНрждржГрж╕рж╛рж░рж╢рзВржирзНржпред рждрж╛рж░рж╛ ржкрзЛрж╢рж╛ржХ-ржкрж░рж┐ржЪрзНржЫржж ржирж┐рзЯрзЗ ржмрзНржпрж╕рзНржд, ржХрж┐ржирзНрждрзБ ржЖрждрзНржорж╛рж░ ржкрж░рж┐ржЪрж░рзНржпрж╛рзЯ ржЙржжрж╛рж╕рзАржиред"',
                    bgColor: 'bg-yellow-100',
                    borderColor: 'border-yellow-500'
                },
                {
                    key: 'habitual_sin',
                    label: 'ржЕржнрзНржпрж╛рж╕рзЗрж░ рж╢рж┐ржХрж▓',
                    icon: 'ЁЯФЧ',
                    value: 1,
                    title: 'ржЕржнрзНржпрж╛рж╕рзЗрж░ рж╢рж┐ржХрж▓',
                    quote: '"ржкрж╛ржк рждрж╛ржжрзЗрж░ ржЬржирзНржп ржПржХржЯрж┐ ржЕржнрзНржпрж╛рж╕рзЗ ржкрж░рж┐ржгржд рж╣ржпрж╝рзЗржЫрзЗ... рждрж╛рж░рж╛ ржЕржирзНржзржХрж╛рж░рзЗрж░ ржЙржкрж░ ржЕржирзНржзржХрж╛рж░рзЗ ржмрж╛рж╕ ржХрж░рзЗред ржкрзНрж░рждрж┐ржЯрж┐ ржкрж╛ржк ржкрж░ржмрж░рзНрждрзА ржкрж╛ржкрзЗрж░ ржкрже ржЦрзБрж▓рзЗ ржжрзЗрзЯ, ржпрждржХрзНрж╖ржг ржирж╛ рждрж╛рж░рж╛ ╨┐╨╛╨▓╨╜╤Ц╤Б╤В╤О ржбрзБржмрзЗ ржпрж╛рзЯред"',
                    bgColor: 'bg-gray-200',
                    borderColor: 'border-gray-500'
                }
            ];

            const detailsContainer = document.getElementById('anatomy-details');

            const renderDetails = (index) => {
                const item = anatomyData[index];
                detailsContainer.innerHTML = `
                    <div class="border-l-4 ${item.borderColor} pl-4 animate-fade-in">
                         <div class="text-4xl mb-3">${item.icon}</div>
                        <h3 class="text-2xl font-bold text-amber-800 mb-2">${item.title}</h3>
                        <p class="text-lg italic text-gray-700">${item.quote}</p>
                    </div>
                `;
                detailsContainer.classList.remove('animate-fade-in-custom');
                void detailsContainer.offsetWidth; 
                detailsContainer.classList.add('animate-fade-in-custom');
            };
            
            const style = document.createElement('style');
            style.innerHTML = `
                @keyframes animate-fade-in-custom {
                    from { opacity: 0; transform: translateY(10px); }
                    to { opacity: 1; transform: translateY(0); }
                }
                .animate-fade-in-custom {
                    animation: animate-fade-in-custom 0.5s ease-out forwards;
                }
            `;
            document.head.appendChild(style);

            const ctx = document.getElementById('drowningChart').getContext('2d');
            const drowningChart = new Chart(ctx, {
                type: 'polarArea',
                data: {
                    labels: anatomyData.map(d => d.label),
                    datasets: [{
                        data: anatomyData.map(d => d.value),
                        backgroundColor: ['rgba(239, 68, 68, 0.6)', 'rgba(59, 130, 246, 0.6)', 'rgba(245, 158, 11, 0.6)', 'rgba(107, 114, 128, 0.6)'],
                        borderColor: ['rgba(239, 68, 68, 1)', 'rgba(59, 130, 246, 1)', 'rgba(245, 158, 11, 1)', 'rgba(107, 114, 128, 1)'],
                        borderWidth: 1
                    }]
                },
                options: {
                    responsive: true, maintainAspectRatio: false,
                    scales: { r: { display: false } },
                    plugins: {
                        legend: { position: 'bottom', labels: { font: { family: "'Hind Siliguri', sans-serif", size: 14 } } },
                        tooltip: { enabled: false }
                    },
                    onClick: (evt, elements) => {
                        if (elements.length > 0) renderDetails(elements[0].index);
                    }
                }
            });
            
            renderDetails(0);

            // Populate guidance options
            const struggleOptionsContainer = document.getElementById('struggle-options');
            anatomyData.forEach(item => {
                struggleOptionsContainer.innerHTML += `
                    <label class="flex items-center space-x-3 p-3 bg-gray-50 border rounded-lg hover:bg-amber-50 cursor-pointer">
                        <input type="checkbox" name="struggle" value="${item.label}" class="form-checkbox h-5 w-5 text-amber-600 rounded focus:ring-amber-500">
                        <span class="text-gray-700">${item.label}</span>
                    </label>
                `;
            });

            const callGemini = async (prompt) => {
                let chatHistory = [{ role: "user", parts: [{ text: prompt }] }];
                const payload = { contents: chatHistory };
                const apiKey = "AIzaSyBdOPNV9QsLtaDuiIAkfB3yBHvwyeAoHb4";
                const apiUrl = `https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash:generateContent?key=${apiKey}`;
                
                try {
                    const response = await fetch(apiUrl, {
                        method: 'POST',
                        headers: { 'Content-Type': 'application/json' },
                        body: JSON.stringify(payload)
                    });
                    if (!response.ok) {
                        throw new Error(`API Error: ${response.statusText}`);
                    }
                    const result = await response.json();
                    if (result.candidates && result.candidates.length > 0 &&
                        result.candidates[0].content && result.candidates[0].content.parts &&
                        result.candidates[0].content.parts.length > 0) {
                        return result.candidates[0].content.parts[0].text;
                    } else {
                        throw new Error("Unexpected API response format.");
                    }
                } catch (error) {
                    console.error("Gemini API call failed:", error);
                    return "ржжрзБржГржЦрж┐ржд, ржПржЗ ржорзБрж╣рзВрж░рзНрждрзЗ ржЙрждрзНрждрж░ рждрзИрж░рж┐ ржХрж░рж╛ рж╕ржорзНржнржм рж╣ржЪрзНржЫрзЗ ржирж╛ред ржЕржирзБржЧрзНрж░рж╣ ржХрж░рзЗ ржХрж┐ржЫрзБржХрзНрж╖ржг ржкрж░ ржЖржмрж╛рж░ ржЪрзЗрж╖рзНржЯрж╛ ржХрж░рзБржиред";
                }
            };

            // Gemini Action Plan
            const generatePlanBtn = document.getElementById('generate-plan-btn');
            const planLoader = document.getElementById('plan-loader');
            const planResult = document.getElementById('plan-result');

            generatePlanBtn.addEventListener('click', async () => {
                const selectedStruggles = Array.from(document.querySelectorAll('input[name="struggle"]:checked')).map(cb => cb.value);
                if (selectedStruggles.length === 0) {
                    planResult.innerHTML = `<p class="text-red-600 bg-red-100 p-3 rounded-lg">ржЕржирзБржЧрзНрж░рж╣ ржХрж░рзЗ ржЕржирзНрждржд ржПржХржЯрж┐ ржмрж┐рж╖ржпрж╝ ржирж┐рж░рзНржмрж╛ржЪржи ржХрж░рзБржиред</p>`;
                    return;
                }

                planLoader.style.display = 'block';
                planResult.innerHTML = '';

                const strugglesText = selectedStruggles.join(' ржПржмржВ ');
                const prompt = `ржЖржкржирж┐ ржПржХржЬржи рж╕рж╣рж╛ржирзБржнрзВрждрж┐рж╢рзАрж▓ ржЗрж╕рж▓рж╛ржорж┐ржХ ржЖржзрзНржпрж╛рждрзНржорж┐ржХ ро╡ро┤ро┐роХро╛рж╢ржХрзЗрж░ ржнрзВржорж┐ржХрж╛ ржкрж╛рж▓ржи ржХрж░рзБржиред ржЖржорж┐ "${strugglesText}" ржирж┐ржпрж╝рзЗ рж╕ржВржЧрзНрж░рж╛ржо ржХрж░ржЫрж┐ред ржжржпрж╝рж╛ ржХрж░рзЗ ржЖржорж╛ржХрзЗ рждржУржмрж╛ ржПржмржВ ржЖрж▓рзНрж▓рж╛рж╣рж░ ржжрж┐ржХрзЗ ржлрж┐рж░рзЗ ржЖрж╕рж╛рж░ ржЬржирзНржп рзйржЯрж┐ ржмрж╛рж╕рзНрждржмрж╕ржорзНржоржд ржПржмржВ ржЙрзОрж╕рж╛рж╣ржмрзНржпржЮрзНржЬржХ ржкржжржХрзНрж╖рзЗржк ржжрж┐ржиред ржЙрждрзНрждрж░ржЯрж┐ ржЕржмрж╢рзНржпржЗ ржмрж╛ржВрж▓рж╛ржпрж╝ ржПржмржВ ржПржХржЯрж┐ рж╕ржВржЦрзНржпрж╛ржпрзБржХрзНржд рждрж╛рж▓рж┐ржХрж╛ рж╣рж┐рж╕рж╛ржмрзЗ ржлрж░рзНржорзНржпрж╛ржЯ ржХрж░рж╛ ржЙржЪрж┐рждред ржкрзНрж░рждрж┐ржЯрж┐ ржкржжржХрзНрж╖рзЗржк ржПржХржЯрж┐ ржирждрзБржи рж▓рж╛ржЗржирзЗ рж╢рзБрж░рзБ рж╣ржмрзЗред`;
                
                const responseText = await callGemini(prompt);
                
                const steps = responseText.split('\n').filter(line => line.trim().length > 0);
                let html = '<div class="bg-green-50 p-6 rounded-lg border border-green-200 shadow-md animate-fade-in-custom space-y-4">';
                html += '<h4 class="text-xl font-bold text-green-800">ржЖржкржирж╛рж░ ржЬржирзНржп ржХрж┐ржЫрзБ ржкрж░рж╛ржорж░рзНрж╢:</h4>';
                steps.forEach(step => {
                   html += `<p class="text-gray-700 leading-relaxed">${step}</p>`;
                });
                html += '</div>';

                planResult.innerHTML = html;
                planLoader.style.display = 'none';
            });
            
            // Gemini Dua Generator
            const generateDuaBtn = document.getElementById('generate-dua-btn');
            const duaLoader = document.getElementById('dua-loader');
            const duaResult = document.getElementById('dua-result');
            const duaInput = document.getElementById('dua-input');

            generateDuaBtn.addEventListener('click', async () => {
                const feeling = duaInput.value.trim();
                if (feeling === '') {
                    duaResult.innerHTML = `<p class="text-red-600 bg-red-100 p-3 rounded-lg">ржЕржирзБржЧрзНрж░рж╣ ржХрж░рзЗ ржЖржкржирж╛рж░ ржЕржирзБржнрзВрждрж┐ ржкрзНрж░ржХрж╛рж╢ ржХрж░рзБржиред</p>`;
                    return;
                }

                duaLoader.style.display = 'block';
                duaResult.innerHTML = '';
                
                const prompt = `ржЖржорж┐ "${feeling}" ржмрзЛржз ржХрж░ржЫрж┐ред ржПржЗ ржЕржирзБржнрзВрждрж┐рж░ ржЙржкрж░ ржнрж┐рждрзНрждрж┐ ржХрж░рзЗ, ржЖрж▓рзНрж▓рж╛рж╣рж░ ржХрж╛ржЫрзЗ рж╕рж╛рж╣рж╛ржпрзНржп, ржкржержирж┐рж░рзНржжрзЗрж╢ ржПржмржВ ржХрж░рзБржгрж╛ ржЪрзЗржпрж╝рзЗ ржПржХржЯрж┐ рж╕ржВржХрзНрж╖рж┐ржкрзНржд, ржЖржирзНрждрж░рж┐ржХ ржПржмржВ ржмрзНржпржХрзНрждрж┐ржЧржд ржжрзЛржпрж╝рж╛ рж░ржЪржирж╛ ржХрж░рзБржиред ржжрзЛржпрж╝рж╛рж░ ржнрж╛рж╖рж╛ рж╕рзБржирзНржжрж░, ржЖрж╢рж╛ржмрж╛ржжрзА ржПржмржВ ржмрж┐ржиржпрж╝рзА рж╣рждрзЗ рж╣ржмрзЗред ржЙрждрзНрждрж░ржЯрж┐ рж╢рзБржзрзБржорж╛рждрзНрж░ ржжрзЛржпрж╝рж╛ ржЕржВрж╢ржЯрзБржХрзБ рж╣ржмрзЗ, ржЕржирзНржп ржХрзЛржирзЛ ржЕрждрж┐рж░рж┐ржХрзНржд рж▓рзЗржЦрж╛ ржерж╛ржХржмрзЗ ржирж╛ ржПржмржВ ржЕржмрж╢рзНржпржЗ ржмрж╛ржВрж▓рж╛ ржнрж╛рж╖рж╛ржпрж╝ рж╣ржмрзЗред`;

                const responseText = await callGemini(prompt);

                let html = `
                    <div class="bg-sky-50 p-6 rounded-lg border border-sky-200 shadow-md animate-fade-in-custom">
                        <h4 class="text-xl font-bold text-sky-800 mb-3">ржЖржкржирж╛рж░ ржЬржирзНржп ржПржХржЯрж┐ ржмрж┐рж╢рзЗрж╖ ржжрзЛржпрж╝рж╛:</h4>
                        <p class="text-lg italic text-gray-800 leading-loose">"${responseText}"</p>
                    </div>
                `;
                duaResult.innerHTML = html;
                duaLoader.style.display = 'none';
            });


            // Smooth scrolling for nav links
            const navLinks = document.querySelectorAll('#nav-menu a');
            navLinks.forEach(link => {
                link.addEventListener('click', (e) => {
                    e.preventDefault();
                    const targetId = e.currentTarget.getAttribute('href');
                    const targetElement = document.querySelector(targetId);
                    if (targetElement) {
                        const headerOffset = document.getElementById('header').offsetHeight;
                        const elementPosition = targetElement.getBoundingClientRect().top;
                        const offsetPosition = elementPosition + window.pageYOffset - headerOffset;
                        window.scrollTo({ top: offsetPosition, behavior: "smooth" });
                    }
                });
            });

            // Active nav link on scroll
            const sections = document.querySelectorAll('section');
            const navItems = document.querySelectorAll('.nav-item');
            window.addEventListener('scroll', () => {
                let current = '';
                sections.forEach(section => {
                    const sectionTop = section.offsetTop;
                    const sectionHeight = section.clientHeight;
                    if (pageYOffset >= (sectionTop - sectionHeight / 2)) {
                        current = section.getAttribute('id');
                    }
                });

                navItems.forEach(item => {
                    item.classList.remove('active');
                    if (item.getAttribute('href') === `#${current}`) {
                        item.classList.add('active');
                    }
                });
            });

        });
    </script>
</body>
</html>
